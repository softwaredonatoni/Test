<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>ZLP-Suite Manual</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Detailed description of the ZLP-Suite and its components.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="custom.css">
        <link rel="stylesheet" href="mdbook-admonish.css">

        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="preface.html"><strong aria-hidden="true">1.</strong> Preface</a></li><li class="chapter-item expanded "><a href="security.html"><strong aria-hidden="true">2.</strong> Safety instructions</a></li><li class="chapter-item expanded "><a href="overview.html"><strong aria-hidden="true">3.</strong> Software overview</a></li><li class="chapter-item expanded "><a href="projector-connectivity.html"><strong aria-hidden="true">4.</strong> Projector Connectivity</a></li><li class="chapter-item expanded "><a href="licensing.html"><strong aria-hidden="true">5.</strong> Licensing</a></li><li class="chapter-item expanded "><a href="program-directories.html"><strong aria-hidden="true">6.</strong> Program directories</a></li><li class="chapter-item expanded affix "><li class="part-title">ZLP-Manager</li><li class="chapter-item expanded "><a href="graphical-user-interface.html"><strong aria-hidden="true">7.</strong> User Interface</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="toolbar.html"><strong aria-hidden="true">7.1.</strong> Toolbar</a></li><li class="chapter-item "><a href="treeview.html"><strong aria-hidden="true">7.2.</strong> Tree view</a></li><li class="chapter-item "><a href="draw-area.html"><strong aria-hidden="true">7.3.</strong> Draw area</a></li><li class="chapter-item "><a href="status-buttons.html"><strong aria-hidden="true">7.4.</strong> Status buttons</a></li><li class="chapter-item "><a href="dock-widgets.html"><strong aria-hidden="true">7.5.</strong> DockWidgets</a></li></ol></li><li class="chapter-item expanded "><a href="language-settings.html"><strong aria-hidden="true">8.</strong> Language settings</a></li><li class="chapter-item expanded "><a href="import-export.html"><strong aria-hidden="true">9.</strong> Import / Export</a></li><li class="chapter-item expanded "><a href="backup.html"><strong aria-hidden="true">10.</strong> Backup</a></li><li class="chapter-item expanded "><a href="service-config.html"><strong aria-hidden="true">11.</strong> Service configuration</a></li><li class="chapter-item expanded "><a href="manager-config.html"><strong aria-hidden="true">12.</strong> Manager configuration</a></li><li class="chapter-item expanded "><a href="projector-management.html"><strong aria-hidden="true">13.</strong> Projector management</a></li><li class="chapter-item expanded "><a href="3d-setup.html"><strong aria-hidden="true">14.</strong> 3D Setup</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="3d-setup-fcw.html"><strong aria-hidden="true">14.1.</strong> FCW Coordinate system</a></li><li class="chapter-item "><a href="3d-setup-app.html"><strong aria-hidden="true">14.2.</strong> 3D Setup application</a></li></ol></li><li class="chapter-item expanded "><a href="projection-border.html"><strong aria-hidden="true">15.</strong> Projection border</a></li><li class="chapter-item expanded "><a href="projection-settings.html"><strong aria-hidden="true">16.</strong> Projection settings</a></li><li class="chapter-item expanded "><a href="user-management.html"><strong aria-hidden="true">17.</strong> User Management</a></li><li class="chapter-item expanded "><a href="workflow-manager.html"><strong aria-hidden="true">18.</strong> Workflow-Manager</a></li><li class="chapter-item expanded affix "><li class="part-title">ZLP-Service</li><li class="chapter-item expanded "><a href="service-overview.html"><strong aria-hidden="true">19.</strong> Overview</a></li><li class="chapter-item expanded "><a href="service-api.html"><strong aria-hidden="true">20.</strong> API</a></li><li class="chapter-item expanded affix "><li class="part-title">Zio & Zio GUI</li><li class="chapter-item expanded "><a href="zio-overview.html"><strong aria-hidden="true">21.</strong> Overview</a></li><li class="chapter-item expanded "><a href="zio-gui.html"><strong aria-hidden="true">22.</strong> Zio GUI</a></li><li class="chapter-item expanded "><a href="file-formats.html"><strong aria-hidden="true">23.</strong> Data formats</a></li><li class="chapter-item expanded affix "><li class="part-title">ZLP Python</li><li class="chapter-item expanded "><a href="python.html"><strong aria-hidden="true">24.</strong> Overview</a></li><li class="chapter-item expanded affix "><li class="part-title">Applications</li><li class="chapter-item expanded "><a href="simulator.html"><strong aria-hidden="true">25.</strong> Simulator</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="portmap.html"><strong aria-hidden="true">25.1.</strong> Portmap</a></li><li class="chapter-item "><a href="rpcbind.html"><strong aria-hidden="true">25.2.</strong> rpcbind</a></li></ol></li><li class="chapter-item expanded "><a href="remote-control.html"><strong aria-hidden="true">26.</strong> Remote control</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="remote-control-p1.html"><strong aria-hidden="true">26.1.</strong> Projection mode (P1)</a></li><li class="chapter-item "><a href="remote-control-p2.html"><strong aria-hidden="true">26.2.</strong> Setup mode (P2)</a></li><li class="chapter-item "><a href="remote-control-p3.html"><strong aria-hidden="true">26.3.</strong> Info panel mode (P3)</a></li><li class="chapter-item "><a href="remote-control-p4.html"><strong aria-hidden="true">26.4.</strong> Clipping mode (P4)</a></li><li class="chapter-item "><a href="remote-control-00.html"><strong aria-hidden="true">26.5.</strong> Service mode</a></li></ol></li><li class="chapter-item expanded "><a href="plc.html"><strong aria-hidden="true">27.</strong> PLC interface</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="plc-config.html"><strong aria-hidden="true">27.1.</strong> Configuration</a></li><li class="chapter-item "><a href="plc-functions.html"><strong aria-hidden="true">27.2.</strong> Function definitions</a></li><li class="chapter-item "><a href="zlp1-pc-board.html"><strong aria-hidden="true">27.3.</strong> ZLP1 with PC board</a></li></ol></li><li class="chapter-item expanded "><a href="easy-gui.html"><strong aria-hidden="true">28.</strong> Easy-GUI</a></li><li class="chapter-item expanded "><a href="polling.html"><strong aria-hidden="true">29.</strong> Polling</a></li><li class="chapter-item expanded affix "><li class="part-title">Maintenance</li><li class="chapter-item expanded "><a href="sonic.html"><strong aria-hidden="true">30.</strong> Sonic</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">ZLP-Suite Manual</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="preface"><a class="header" href="#preface">Preface</a></h1>
<p>Dear Customer,</p>
<p>With this user manual we want to help you to operate your ZLP laser projector efficiently, properly and safely together with the associated control software ZLP-Suite, to achieve the best projection results and to achieve a maximum service life of the laser projector. Please read the instructions carefully and familiarize yourself with the software and the laser projector before you use them for your work process.</p>
<p>Ensure that all persons who work with the laser projector and its control software have read and understood these operating instructions before starting any work. To ensure safe working and to prevent injuries and damage to the product, pay particular attention to the safety instructions given.</p>
<p>Always keep the user manual in an easily accessible place at the place of use. For the use of the laser projector, the laws and regulations applicable to the respective country at state, federal, European or international level apply
note.</p>
<p>Manual version: 23.2.1<br/>
Created on: 15/05/2023</p>
<h2 id="validity"><a class="header" href="#validity">Validity</a></h2>
<p>This user manual applies exclusively to the operation of the ZLP1 and ZLP2 laser projectors from Z-LASER GmbH.</p>
<p>It is available in German and English from:</p>
<p>Z-LASER GmbH<br/>
Merzhauser Str. 134<br />
79100 Freiburg<br/>
Germany<br/>
Tel: +49 761 296 44-44<br/>
Fax: +49 761 296 44-55<br/>
email: <a href="mailto:support2D@z-laser.de">support2D@z-laser.de</a></p>
<p>or from the respective country representative.</p>
<h2 id="notes"><a class="header" href="#notes">Notes</a></h2>
<p>Please note that all (screen) images used in this manual are for basic understanding and, depending on the operating system and laser projector used, may differ from the windows shown on your screen or from the actual version.</p>
<h2 id="trademarks"><a class="header" href="#trademarks">Trademarks</a></h2>
<p>The Z-LASER® logo is a registered trademark of Z-LASER GmbH. Z-LASER® is a registered trademark of Z-LASER GmbH.</p>
<p>Microsoft® and Windows® are registered trademarks of Microsoft® Corporation in the United States and other countries.</p>
<p>Linux® is a trademark of Linus Torvalds, registered in the United States and other countries.</p>
<h2 id="copyright"><a class="header" href="#copyright">Copyright</a></h2>
<p>This manual, including all of its text and image content, is the exclusive property of Z-LASER GmbH. All rights reserved.</p>
<p>The authorized user has a simple right of use within the scope of the purpose of the contract. Reprinting, duplication, distribution, editing and translation of this documentation or parts thereof is not permitted without the prior written consent of Z-LASER GmbH and is punishable. Likewise, no part of this manual may be made publicly accessible or otherwise made available for interactive retrieval, stored in databases or transmitted without the written consent of Z-LASER. In the event of a copyright infringement, Z-LASER reserves the right to assert all rights.</p>
<h2 id="limitation-of-liability-and-disclaimer"><a class="header" href="#limitation-of-liability-and-disclaimer">Limitation of Liability and Disclaimer</a></h2>
<p>This manual has been compiled and published to the best of our knowledge and belief. It contains the latest specifications and product information associated with the current version number. Despite the greatest possible care, no liability can be assumed for the correctness, completeness and topicality. We reserve the right to make changes.</p>
<p>Z-LASER GmbH assumes no liability for personal injury, damage to property, damage to the product or consequential damage caused by non-observance of these instructions and the operating instructions for the laser projector, improper use of the product, repairs, opening of the projector housing and any other actions by non-authors qualified electricians or electricians not certified by Z-LASER on the product or when using non-approved spare parts. It is forbidden to make unauthorized modifications or technical changes to the product.</p>
<p>© Z-LASER GmbH 2022</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safety-instructions"><a class="header" href="#safety-instructions">Safety instructions</a></h1>
<p>Safety instructions are used for occupational safety and accident prevention. They must be observed and complied with. In order not to endanger yourself or others and to ensure safe operation of the laser projector, it is essential to observe the safety instructions in this manual and the safety instructions in the operating instructions for the respective projector. </p>
<p>Make sure that everyone who works on or with the laser projector has been informed about and understands the possible dangers of laser radiation. The software may only be used together with the laser projector as intended. In the event of improper use, all warranty claims will become void. The operator is solely responsible for the resulting risk and possible damage. Always keep the operating instructions for the ZLP Suite and for your laser projector close to the place of use.</p>
<p>Please observe and comply with the relevant accident prevention regulations, occupational health and safety regulations and safety regulations in your country. Information on this must be obtained before the start of work.</p>
<h2 id="laser-safety"><a class="header" href="#laser-safety">Laser safety</a></h2>
<p>You operate a laser projector from Z-LASER GmbH using the ZLP-Suite software. Persons who use laser devices of classes 2 to 4 or who are in the laser areas of laser devices of classes 3B or 4 must have been instructed about the behavior to be observed. The instructions are to be repeated and documented at regular intervals in accordance with the respective accident prevention regulations of the country. Clearly and permanently mark the work area in which the laser projector will project in accordance with your country's laser safety regulations. To avoid dangerous reflections, no mirrors or reflective objects and surfaces may be installed or used in the area of ​​the laser beam. Never look directly into the laser beam or with optical instruments! Close your eyes and turn away immediately if the laser beam hits your eyes or blinds you.</p>
<p>Never remove or damage the protective glass on the exit window of the laser projector. Never open the projector case and never operate the projector with the case open. Make sure which laser class your laser projector is assigned to. The laser class can be found on the type plate on your device. In Regulation 11 of the German Social Accident Insurance (DGUV) you will find further information regarding the safe operation of laser systems in Germany.</p>
<p>For all countries outside of Germany, the relevant regulations regarding laser safety must be observed.</p>
<p>Be sure to observe and follow the safety instructions in the associated manual for the laser projectors ZLP 1 or ZLP 2.</p>
<h2 id="electronic-components"><a class="header" href="#electronic-components">Electronic components</a></h2>
<p>All safety instructions for handling electronic components can be found in the associated manual for the laser projectors ZLP 1 and ZLP 2.</p>
<h2 id="motion-sensor"><a class="header" href="#motion-sensor">Motion Sensor</a></h2>
<p>For your personal safety, the laser projector ZLP 2 is equipped with a motion sensor. This detects people who are in the danger zone of the laser beam path and automatically switches off the laser beam. Therefore, never cover the motion sensor with paper, band-aids, adhesive tape or similar. For more information, see the ZLP 2 manual.</p>
<h2 id="emergency-switch"><a class="header" href="#emergency-switch">Emergency switch</a></h2>
<p>The laser projector is also equipped with a key switch for switching the laser beam on and off. Before using the ZLP-Suite laser control software, be sure to familiarize yourself with the safety information for the respective laser projector. Make sure that the laser projector can be switched off at any time. This can be done either on the projector itself via the on/off switch, the key switch or via a specially installed emergency switch. Further information can be found in the manual for the ZLP 1 and ZLP 2.</p>
<h2 id="administrator-rights"><a class="header" href="#administrator-rights">Administrator rights</a></h2>
<p>In some cases, such as software installation or network settings, you need administrator rights on your computer. Make sure you have the appropriate rights beforehand.</p>
<h2 id="passwords"><a class="header" href="#passwords">Passwords</a></h2>
<p>Certain applications of the ZLP suite can also be assigned passwords. Always keep passwords in a safe place from unauthorized access.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="overview-of-the-software"><a class="header" href="#overview-of-the-software">Overview of the software</a></h1>
<p>The laser projection software <em>ZLP-Suite</em> is a collection of closely coordinated programs and tools. They allow you to set up and manage individual projectors through to interconnected networks. All these options are available via the graphical user interface, the <a href="graphical-user-interface.html"><em>ZLP-Manager</em></a>, the <a href="service-api.html"><em>SDK</em></a> or via command line tools (<a href="zio-overview.html"><em>Zio</em></a>, <a href="simulator.html"><em>Simulator</em></a>, and many more) accessible for easy automation.</p>
<p>In the following, these operating instructions describe the individual areas of application and functions of the <em>Suite</em>.</p>
<h2 id="software-structure"><a class="header" href="#software-structure">Software structure</a></h2>
<p>The central component of the <em>Suite</em> is the <a href="service-overview.html"><em>Service</em></a>. It is middleware that needs to be run as a separate application. The service manages one or more projectors that are connected to each other via a TCP/IP network. He is responsible for the internal administration of projection data, calculates and optimizes the laser projection and guarantees the safe operation of the projectors.</p>
<p><img src="img/software-structure.png" alt="Software structure" title="Software structure" /></p>
<p>Externally, the Service offers a programming interface (<a href="service-api.html">API</a>). All programs in the ZLP suite also access the projectors via this interface. As a customer, you have the option of direct access via the same interface, or you can use an <a href="../../sdk/python/doc/index.html">SDK</a> in Python or C-Sharp that we have specially prepared for easier application.</p>
<p>Direct access to a projector bypassing the Service is not possible for security reasons.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="projector-connectivity"><a class="header" href="#projector-connectivity">Projector Connectivity</a></h1>
<p>The ZLP projectors can be configured with static or dynamic IP address.
The factory default configuration is DHCP and a fallback IP. From firmware 
version 1.10 onward (May 2023) the fallback IP is <code>169.254.10.10</code> or any other 
in the Local-Link range. Previous versions used the fallback static IP 
<code>192.168.10.10</code>.</p>
<p>We recommend using the <a href="sonic.html">sonic</a> tool to manage the projector network 
configuration and check the firmware version number. Support for firmware v1.10 
was added to Sonic v1.1.0.</p>
<h2 id="firmware-version-110-onward"><a class="header" href="#firmware-version-110-onward">Firmware version 1.10 onward</a></h2>
<p><em>Released on May 2023</em></p>
<p>Due to the removal of the default static IP from the factory configuration, the
projector is only reachable via a DHCP allocated IP or a fallback Local-Link IP.</p>
<p>If no DHCP server is found, the projector will use the standard Local-Link 
network range <code>169.254.x.y</code> and mask <code>255.255.0.0</code>. If the IP <code>169.254.10.10</code> is 
available, it will be used first. Otherwise, a random IP in Local-Link network
range is used.</p>
<p>The default hostname of the projector is <code>zlp-&lt;serial number&gt;</code>. e.g. 
<code>zlp-1700001985</code>. If your network configuration with DHCP supports Dynamic
DNS updates, you can find the IP assigned to the projector by issuing a ping to 
the hostname e.g. <code>ping zlp-1700001985</code> or <code>zlp-1700001985.local</code>.</p>
<p>Network link up or down triggers an interface configuration. Whenever the
network cable is plugged the network interface configuration is applied. If DHCP
is enabled the DHCP client starts, and a request is initiated. If the link is 
lost (cable disconnection), there is a 10 seconds timeout before de-configuring
the network interface.</p>
<div id="admonition-important" class="admonition tip">
<div class="admonition-title">
<p>Important</p>
<p><a class="admonition-anchor-link" href="projector-connectivity.html#admonition-important"></a></p>
</div>
<div>
<p>Wait at least 10 seconds before switching the projector
from one network to another, e.g from PC to Router.</p>
</div>
</div>
<h3 id="one-to-one-connection"><a class="header" href="#one-to-one-connection">One-to-One Connection</a></h3>
<p>Most modern operating systems will use a Local-Link IP if a network interface
is configured to use DHCP and there is no response from the server. This allows
devices to be connected one-to-one without the need of an additional DHCP 
server. This feature is also known as Automatic Private IP Addressing (APIPA).</p>
<p>Is possible to connect a ZLP projector with DHCP enabled to a computer directly.
And reach it via the IP <code>169.254.10.10</code> without additional network 
configuration. </p>
<div id="admonition-note" class="admonition note">
<div class="admonition-title">
<p>Note</p>
<p><a class="admonition-anchor-link" href="projector-connectivity.html#admonition-note"></a></p>
</div>
<div>
<p>The allocation of the Local-Link address happens after a DHCP request timeout. 
This means that the IP is available between 10 to 30 seconds after connecting 
the projector to the network.</p>
</div>
</div>
<h2 id="firmware-version-19-and-older"><a class="header" href="#firmware-version-19-and-older">Firmware version 1.9 and older</a></h2>
<p>The factory configuration is DHCP with a fixed fallback IP <code>192.168.10.10</code> and 
default hostname <code>zlaser-zlp</code>. The fallback IP is assigned if there is no 
response from a DHCP server. If multiple projectors with this configuration are 
connected to the same network without DHCP there might be an IP collision.</p>
<h3 id="one-to-one-connection-1"><a class="header" href="#one-to-one-connection-1">One-to-One Connection</a></h3>
<p>It is necessary to configure the PC network interface with an IP in the range 
<code>192.168.10.x</code> with netmask <code>255.255.255.0</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="licensing"><a class="header" href="#licensing">Licensing</a></h1>
<p>A valid license is required to be able to use the manager and many other
components of the ZLP-Suite. Licensing takes place exclusively through the
company Z-Laser GmbH.</p>
<p>The following sections describe the licensing model and the necessary steps to
create a registration file and to load a license.</p>
<h2 id="licensing-model"><a class="header" href="#licensing-model">Licensing model</a></h2>
<p>The ZLP-Suite offers two models for licensing the software.</p>
<p>With a <strong>system license</strong>, the validity of a license is linked to the PC
on which the program &quot;ZLP-Service&quot; is running.</p>
<p>The advantage of this license model is that projectors can be exchanged and
replaced at any time without the license to become invalid.</p>
<p><img src="img/system-license.png" alt="Overview system license" /></p>
<p>In contrast, the <strong>projector license</strong> is a floating license. The validity of
the license is linked to a (master) projector in the system. The overall system
with all registered components is only fully operational when</p>
<ol>
<li>the license is loaded and</li>
<li>the master projector is connected to the system.</li>
</ol>
<p><img src="img/projector-license.png" alt="Overview projector license" /></p>
<h2 id="registration-process"><a class="header" href="#registration-process">Registration process</a></h2>
<p>The registration process is started through the license dialog of ZLP-Manager.
The dialog can be opened be clicking on the
<a href="status-buttons.html#license-status">license status button</a> or via the menu entry
<em>Help</em> → <em>Registration...</em>.</p>
<p>The following information has to be entered in the &quot;Registration&quot; tab:</p>
<ul>
<li>type of license,</li>
<li>contact information of the customer,</li>
<li>list of modules to be licensed.</li>
</ul>
<div align="center"><img src="img/license-dialog-registration.png"></div>
<p>Afterwards a registration file is generated from the given information
which has to be sent to
<a href="mailto:support2d@z-laser.de?subject=Registration">support2d@z-laser.de</a>.
It is used to generate the final license file which then can be loaded with the
license dialog.</p>
<h2 id="load-license"><a class="header" href="#load-license">Load license</a></h2>
<p>A license file can be loaded in the &quot;License&quot; tab of ZLP-Manager's license
dialog. The dialog also displays all information comprised in the license and
its validity state.</p>
<div align="center"><img src="img/license-dialog.png"></div>
<div id="admonition-warning" class="admonition warning">
<div class="admonition-title">
<p>Warning</p>
<p><a class="admonition-anchor-link" href="licensing.html#admonition-warning"></a></p>
</div>
<div>
<p>License files are cryptographically protected against changes. Changing a
license file is recognized automatically and the changed license is rejected.</p>
</div>
</div>
<p>On import, the license file is copied into the <a href="program-directories.html#runtime-files">runtime files directory</a> of the ZLP-Service.
The filename is also saved in the configuration file of the ZLP-Service. Hence, the
license can be automatically loaded on the next program start.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="program-directories"><a class="header" href="#program-directories">Program directories</a></h1>
<p>The program paths correspond to the current guidelines where files are stored in the system under Windows and Linux.</p>
<p>A distinction is made here between <a href="program-directories.html#configuration-files">configuration files</a> 
and <a href="program-directories.html#runtime-files">runtime files</a>, which are loaded or saved by the programs.</p>
<p>With a <a href="backup.html">backup</a> these files can be saved if necessary
and loaded on another system.</p>
<h2 id="configuration-files"><a class="header" href="#configuration-files">Configuration files</a></h2>
<p>The ZLP-Suite has several programs each with its own configuration file.</p>
<p>The configuration files are stored in the user directory:</p>
<table><thead><tr><th>Operating system</th><th>Path</th></tr></thead><tbody>
<tr><td>Linux</td><td><code>$HOME/.z-laser/zlp-suite-xx.x/&lt;FILE&gt;.toml</code></td></tr>
<tr><td>Windows</td><td><code>%USERPROFILE%\.z-laser\ZLP-Suite xx.x\&lt;FILE&gt;.toml</code></td></tr>
</tbody></table>
<p>The format corresponds to <a href="https://toml.io/en/">Tom's Obvious Minimal Language</a> and is similar to the <code>.ini</code> format known under Windows. The options are intended for customization by the end user. Missing options or incorrect information lead directly to the application in question refusing to run, with a reference to the cause of the error.</p>
<p>Depending on the application, it is possible to specify an alternative configuration. This is documented in the program help when the program in question is started with the <code>--help</code> parameter.</p>
<p>Most options are directly documented via comments in the configuration file.</p>
<p>Below are listed all programs which have a configuration file:</p>
<ul>
<li><a href="manager-config.html#settings-file">ZLP-Manager</a></li>
<li><a href="zio-overview.html#configuration-file">z-io</a></li>
<li><a href="easy-gui.html#configuration">Easy-GUI</a></li>
<li><a href="polling.html#configuration">Polly</a></li>
</ul>
<h2 id="runtime-files"><a class="header" href="#runtime-files">Runtime files</a></h2>
<p>The ZLP-Suite has several programs that generate files at runtime.</p>
<p>The runtime files are stored in the user directory:</p>
<table><thead><tr><th>Operating system</th><th>Path</th></tr></thead><tbody>
<tr><td>Linux</td><td><code>$HOME/.z-laser/zlp-suite-xx.x/var/&lt;FILE&gt;x</code></td></tr>
<tr><td>Windows</td><td><code>%USERPROFILE%\AppData\Local\Z-LASER\ZLP-Suite xx.x\&lt;FILE&gt;x</code></td></tr>
</tbody></table>
<p>Each program stores different files, depending on which data is relevant.</p>
<p>These includes:</p>
<ul>
<li>Log files <code>log/*.log</code></li>
<li>License files <code>*.lic</code></li>
<li>user management files <code>*.dat</code></li>
<li>Files for saving the program state <code>*.toml, *.xml, *.info</code></li>
<li>Cache files for runtime information <code>*.txt</code></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="user-interface"><a class="header" href="#user-interface">User interface</a></h1>
<p>The <em>ZLP Manager</em> is the central user interface for the end user.</p>
<p>Here you can load, visualize, manipulate, move your projection data, set up and control your projection system, and much more.</p>
<div align="center">
<a href="img/manager-with-data.png"><img src="img/manager-with-data.png"/></a>
</div>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<p>The default installation directory of the suite is <code>C:\Z-LASER</code>. For example, version 22.2 can be found under: <code>C:\Z-LASER\ZLP-Suite 22.2</code>.</p>
<p>In this directory, the most important programs of the suite are linked to the <code>bin</code> directory as Windows shortcuts.</p>
<p>The manager absolutely needs a network connection to the Service. If the service is not available at the specified network address, the manager starts an instance of the Service itself.</p>
<p>The startup behavior of the manager can be configured using the following command line parameters:</p>
<ul>
<li>
<p><code>-h</code>, <code>--help</code></p>
<p>Show help text</p>
</li>
<li>
<p><code>-p PORT</code>, <code>--port PORT</code></p>
<p>Port number to connect to the Service</p>
</li>
<li>
<p><code>--ip IP_ADDRESS</code></p>
<p>IPv4 address to connect to the Service</p>
</li>
</ul>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<p>Default values ​​for the invocation are as follows:</p>
<pre><code class="language-bat">ZLP manager --port 9090 --ip 127.0.0.1
</code></pre>
<h2 id="structure"><a class="header" href="#structure">Structure</a></h2>
<p>The manager can be divided into the areas described below:</p>
<div align="center">
<a href="img/manager-labeled.png"><img src="img/manager-labeled.png"/></a>
</div>
<p>The main elements of the user interface are:</p>
<ol>
<li>
<p><strong>Title Bar</strong><br/></p>
<p>On the left is the name of the application. In square brackets, <code>[PORT: 9090, IP:localhost]</code> shows the hostname and port number of the IPv4 address on which the manager connects to the Service.</p>
</li>
<li>
<p><strong>Menu Bar</strong></p>
</li>
<li>
<p><strong>Toolbar</strong><br/></p>
<p>The toolbar consists of a list of buttons for direct selection of the most important functions.</p>
</li>
<li>
<p><strong>Left Dock Area</strong> with &quot;Tree View&quot;<br/></p>
<p>Dock widgets can be attached to this marked, rectangular area. In the present case, the &quot;Tree View&quot; dock widget is pinned here. Such widgets can be removed from the title bar by drag &amp; drop with the left mouse button and reattached to another location in the application. Alternatively, these dock widgets can also be used freestanding.</p>
</li>
<li>
<p><strong>Status Line</strong><br/></p>
<p>This line is used to output short information on the current processing step. The content depends on the last action performed.</p>
</li>
<li>
<p><strong>Drawing Area</strong><br/></p>
<p>The drawing area is the central element of the ZLP Manager. It is closely related to the tree view. Within the central drawing area, all polylines are displayed in a coordinate system.</p>
</li>
<li>
<p><strong>Status Indicators</strong><br/></p>
<p>The status line uses signal colors to show the status of the connection to projectors, the Service and the license. This area is permanently visible at the bottom right of the user interface.</p>
</li>
<li>
<p><strong>Right Dock Area</strong><br/></p>
<p>Dock widgets can be attached to this marked, rectangular area. In the present case, the &quot;Element properties&quot; and the &quot;Projection editor&quot; are attached here, which can be seen on the tabs at the bottom. Such widgets can be removed from the title bar by drag &amp; drop with the left mouse button and reattached to another location in the application. Alternatively, these dock widgets can also be used freestanding.</p>
</li>
<li>
<p><strong>Tab List</strong><br/></p>
<p>With the help of the green plus sign it is possible to create several tabs. A separate toolbar with various buttons and functions can be created for each tab.</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="toolbar"><a class="header" href="#toolbar">Toolbar</a></h1>
<p>By default, a selection of important functions can be executed directly via a button on the toolbar.</p>
<div align="center">
<a href="img/toolbar.png"><img src="img/toolbar.png"/></a>
</div>
<p>Additional tabs can be added using the green (+) button on the upper right edge to switch between different toolbars.</p>
<p>The buttons themselves can be configured via a context menu on the button. The position of the buttons can be moved, copied or deleted. A dialog window opens via the &quot;Settings&quot; menu item:</p>
<div align="center">
<img src="img/button-settings.png" width="400px" />
</div>
<p>Here you can make settings for the title and tooltip as well as the pixel-precise positioning and the internal format template. The following actions can be configured via the &quot;Type&quot; of the connection:</p>
<table><thead><tr><th>Connection</th><th>Function</th></tr></thead><tbody>
<tr><td><code>Connect_3DSetup</code></td><td>Opens the projector setup dialog</td></tr>
<tr><td><code>Connect_ActivateMultiColor</code></td><td>Enables multicolor</td></tr>
<tr><td><code>Connect_ActivatePen</code></td><td>Set active color of polyline: 0 = white, 1 = green, 2 = red, 3 = blue, 4 = yellow</td></tr>
<tr><td><code>Connect_ChangeLanguage</code></td><td>Opens the language settings dialog</td></tr>
<tr><td><code>Connect_ChangeProjectorConnection</code></td><td>Entering a projector IP address</td></tr>
<tr><td><code>Connect_ChangeServiceConnection</code></td><td>Opens the ZLP service connection dialog</td></tr>
<tr><td><code>Connect_CoordinateStartPos</code></td><td>Rotates the canvas view back to its origin</td></tr>
<tr><td><code>Connect_CreateDockWidget</code></td><td>Opens the dialog to create a docking window</td></tr>
<tr><td><code>Connect_DeactivateMultiColor</code></td><td>Disables multicolor</td></tr>
<tr><td><code>Connect_DisconnectProjector</code></td><td>Disconnects the currently connected projector</td></tr>
<tr><td><code>Connect_Dock_Projector_IDList</code></td><td>Opens the projector dialog</td></tr>
<tr><td><code>Connect_Dock_Projector_ProjectionBorder</code></td><td>Opens the parting planes dialog</td></tr>
<tr><td><code>Connect_Dock_Registration</code></td><td>Opens the registration dialog</td></tr>
<tr><td><code>Connect_DrawArea_2DView_XY</code></td><td>Rotates the drawing area view to XY view</td></tr>
<tr><td><code>Connect_DrawArea_HidePlane</code></td><td>Hides the parting planes in the drawing area coordinate system</td></tr>
<tr><td><code>Connect_DrawArea_ShowPlane</code></td><td>Displays the parting planes in the drawing area coordinate system</td></tr>
<tr><td><code>Connect_ExportProjectionData</code></td><td>Opens a file browser to export all projection files loaded in the Service</td></tr>
<tr><td><code>Connect_Help</code></td><td>Opens the Dock_Help docking window</td></tr>
<tr><td><code>Connect_ImportProjectionData</code></td><td>Opens a file browser to import projection data</td></tr>
<tr><td><code>Connect_Info</code></td><td>Opens a dialog box showing the current version information</td></tr>
<tr><td><code>Connect_LoadGUI</code></td><td>Opens a dialog window to load the manager configuration file</td></tr>
<tr><td><code>Connect_LoadScript</code></td><td>Runs the specified manager script</td></tr>
<tr><td><code>Connect_OpenBackupDialog</code></td><td>Opens the system backup dialog</td></tr>
<tr><td><code>Connect_ReConnectToService</code></td><td>Restarts the connection to the current service</td></tr>
<tr><td><code>Connect_RefPoint_ProjectAllTargets</code></td><td>Projects all reference points for all projectors of one or more coordinate systems</td></tr>
<tr><td><code>Connect_RefPointSearchAll_Settings</code></td><td>Opens a dialog to activate coordinate systems</td></tr>
<tr><td><code>Connect_RefPointSearchAll_ShowResult</code></td><td>Opens a dialog with the results of the last point search</td></tr>
<tr><td><code>Connect_ResetConfiguration</code></td><td>Resets the Service configuration</td></tr>
<tr><td><code>Connect_SaveGUI</code></td><td>Allows you to save the current manager representation</td></tr>
<tr><td><code>Connect_Service_LoadConfig</code></td><td>Loads a service configuration file</td></tr>
<tr><td><code>Connect_Service_SaveConfig</code></td><td>Saves a service configuration file</td></tr>
<tr><td><code>Connect_SetActiveModeForRC</code></td><td>Sets the remote control mode for a remote control address</td></tr>
<tr><td><code>Connect_SetIPRange</code></td><td>Opens the projector search dialog</td></tr>
<tr><td><code>Connect_ShowMaximized</code></td><td>Maximizes the ZLP Manager main window</td></tr>
<tr><td><code>Connect_StartEXE</code></td><td>Runs an external program</td></tr>
<tr><td><code>Connect_StartProjection</code></td><td>Starts the projection of the loaded projection files</td></tr>
<tr><td><code>Connect_StartRefPointSearchAll</code></td><td>Starts the reference point search for the selected coordinate system</td></tr>
<tr><td><code>Connect_StopProjection</code></td><td>Stops the projection of the loaded projection files</td></tr>
<tr><td><code>Connect_ZIO</code></td><td>Opens the ZLP Import Export Tool window</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tree-view"><a class="header" href="#tree-view">Tree view</a></h1>
<p>The tree view is itself a dock widget that can be detached and moved from its position via drag &amp; drop on the title bar.</p>
<div align="center">
<img src="img/treeview-with-data.png"/></a>
</div>
<p>The tree view is a dock widget and lists all loaded projection elements. Like all other dock widgets, it offers two entries via a context menu on the title bar. The manager can be instructed to manually refresh the projection data from the Service via the &quot;Reload view&quot; entry.</p>
<p>The main elements of this dock widget are:</p>
<ol>
<li>
<p><strong>Title Bar</strong><br/></p>
<p>A context menu can be opened by right-clicking on the title bar. Several actions can be carried out:</p>
<ul>
<li>change settings of dock widget,</li>
<li>update tree view content.</li>
</ul>
</li>
<li>
<p><strong>Toggle Mode</strong><br/></p>
<p>This checkbox can be used to activate and deactivate toggle mode in the manager. This is a simple application in which all elements are initially deactivated and the previous or next element can be activated using the buttons (9). A kind of slide show is created.</p>
</li>
<li>
<p><strong>Expand All</strong><br/></p>
<p>By clicking this button, all group elements are expanded in the tree view.</p>
</li>
<li>
<p><strong>Group Element</strong><br/></p>
<p>Drawing elements can be structured hierarchically in groups and optionally shown or hidden.</p>
</li>
<li>
<p><strong>Activate Selection</strong><br/></p>
<p>The checkbox in the &quot;Activate&quot; column marks those group and drawing elements that are to be displayed when the projection is switched on. Activating a group element also activates all contained group and drawing elements.</p>
</li>
<li>
<p><strong>Coordinate System Selection</strong><br/></p>
<p>The default coordinate system can be set with this combo box. This coordinate system is automatically assigned to new projection elements during import. An overview of which coordinate system is currently assigned to a projection element can only be obtained from the expert view.</p>
<p>Outside of expert mode (7), the drawing area only shows drawing elements that are assigned to the selected coordinate system.</p>
<p>Each connected projector automatically defines a coordinate system whose name results from the serial number and the appendix &quot;_FCW&quot;. &quot;FCW&quot; stands for &quot;Factory Calibration Wall&quot; and designates a virtual plane orthogonal to the optical axis at a distance of approx. 3.5 m in front of the projector.</p>
</li>
<li>
<p><strong>Expert Mode</strong><br/></p>
<p>This button can be used to activate or deactivate the expert view. In this view, the tree view is expanded to include the known coordinate systems. By selecting one or more coordinate systems and one or more projection elements, an assignment can be made by pressing the <code>&gt;&gt;</code> button in the middle.</p>
<p>All loaded drawing elements are displayed in the drawing area while expert mode is active.</p>
<p>This assignment can be canceled for all elements using the 'Remove all' button.</p>
</li>
<li>
<p><strong>On/Off</strong> <br/></p>
<p>The projection can be started or stopped using the 'On' and 'Off' buttons.</p>
</li>
<li>
<p><strong>Back/Forward</strong> <br/></p>
<p>The buttons <code>&lt;&lt;</code> and <code>&gt;&gt;</code> are used in connection with the &quot;toggle mode&quot; (2) to switch to the previous / next element.</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="draw-area"><a class="header" href="#draw-area">Draw area</a></h1>
<p>The drawing area is used for 3D visualization of the loaded drawing elements.</p>
<div align="center">
<a href="img/draw-area.png"><img src="img/draw-area.png" width="600px"/></a>
</div>
<p>Elements or areas are marked with the left mouse button, the right mouse button moves the drawing area, while the middle mouse button rotates the area around the origin. The mouse wheel can be used to zoom in or out.</p>
<p>Elements that are marked in the drawing area are automatically selected in the tree view.</p>
<p>Drawing elements that are activated in the tree view are shown in white in the drawing area. All other items appear greyed out.</p>
<p>Two context menus can be active in the drawing area:</p>
<p>Right-clicking in the drawing area while an element is selected opens a smaller context menu:</p>
<div align="center">
<img src="img/draw-area-selected-context.png" /></a>
</div>
<p>This allows the selected elements to be edited, copied, deleted, or merged into a single polyline. In contrast, the grouping of drawing elements is reversible.</p>
<p>A larger context menu appears after right-clicking while no drawing element is selected in the drawing area:</p>
<div align="center">
<img src="img/draw-area-context.png" /></a>
</div>
<p>Here you can set in the upper third which data should be displayed in the drawing area. In the middle, the drawing area can be oriented in seven different standard configurations. In the lower third, the displayed grid can be adjusted, you can switch between a light and dark view, and you can display the drawing area from the perspective of a projector or a coordinate system.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="status-buttons"><a class="header" href="#status-buttons">Status buttons</a></h1>
<p>The three buttons in the lower right area of the GUI are understood as
&quot;status buttons&quot;:</p>
<div align="center"><img src="img/status-buttons.png"/></div>
<p>They show the current connection status of the projectors and the Service as
well as whether a license is currently loaded and valid for the current
configuration.</p>
<h2 id="projector-status"><a class="header" href="#projector-status">Projector status</a></h2>
<p>Clicking on the button opens the
<a href="dock-widgets.html#dock_projector_idlist">Projector dialog</a>. Among other things,
it can be used to search for, reconnect or disconnect projectors.</p>
<p>The background of the button takes on three different colors:</p>
<ul>
<li>Grey: No projector is connected and no projector has been searched for yet,</li>
<li>Green: All activated projectors are also connected,</li>
<li>Red: At least one of the activated projectors is currently no longer
connected.</li>
</ul>
<h2 id="service-status"><a class="header" href="#service-status">Service status</a></h2>
<p>With a mouse click on the button, the manager tries to establish a connection
with the Service again. If a connection cannot be established on the set port
address, the manager starts the service on the set port address independently
and then connects.</p>
<p>The background of the button takes on three different colors:</p>
<ul>
<li>Green: The Service was successfully connected,</li>
<li>Red: The Service could not be connected,</li>
<li>Yellow: The Manager is connected to a Service instance, but the version number
of the Service does not match that of the manager. This can result in limited
functionality and unexpected behavior.</li>
</ul>
<h2 id="license-status"><a class="header" href="#license-status">License status</a></h2>
<p>Clicking on the button opens the <a href="licensing.html">license dialog</a>.</p>
<p>The background of the button takes on two different colors:</p>
<ul>
<li>Green: A license is loaded and it is valid,</li>
<li>Red: No license has been loaded yet, or the license is invalid. Most Manager
functions are not accessible in this state.</li>
</ul>
<div id="admonition-invalid-projector-license" class="admonition info">
<div class="admonition-title">
<p>Invalid Projector License</p>
<p><a class="admonition-anchor-link" href="status-buttons.html#admonition-invalid-projector-license"></a></p>
</div>
<div>
<p>The license status can be shown as invalid, even if a valid license file has
been loaded. For projector licenses, the license only appears valid once the
licensed master projector is connected to the system.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dockwidgets"><a class="header" href="#dockwidgets">DockWidgets</a></h1>
<p>DockWidgets are windows that can be docked to certain areas of the graphical user interface.</p>
<p>Many of the things that can be adjusted via the manager are grouped by topic and are accessible via DockWidgets.
These windows can be added via the <em>View</em> → <em>Create DockWidget...</em> dialog:</p>
<div align="center">
  <img src="img/dockwidget-dialog.png"/></a>
</div>
<p>Under <code>Type</code> you can choose from the following DockWidgets. The setting under <code>Area</code> defines where the relevant window is initially pinned. The zones (4), (8) and above (5) in the <a href="graphical-user-interface.html#structure">areas of the graphical user interface</a> are available as docking areas.</p>
<h2 id="dock_container"><a class="header" href="#dock_container"><code>Dock_Container</code></a></h2>
<p>The container DockWidget initially appears as an empty area. The <a href="dock-widgets.html#dock_guitype">Dock_GUIType</a> can be used to create buttons and other graphical elements in this window.</p>
<div align="center">
  <img src="img/container-widget.png"/></a>
</div>
<h2 id="dock_guitype"><a class="header" href="#dock_guitype"><code>Dock_GUIType</code></a></h2>
<p>This DockWidget allows creating new buttons and simple graphical elements in the <a href="graphical-user-interface.html#structure">Toolbar (3)</a> or in <a href="dock-widgets.html#dock_container">Dock_Container</a> widgets:</p>
<div align="center">
  <img src="img/guitype-widget.png"/></a>
</div>
<p>The elements can be pulled out of the DockWidget with drag &amp; drop and placed in the toolbar / Dock_Container. Further configuration is possible by right-clicking with the mouse.</p>
<h2 id="dock_height_offset"><a class="header" href="#dock_height_offset"><code>Dock_Height_Offset</code></a></h2>
<p>With this DockWidget, the loaded projection data can be moved across the board in the height of the Z coordinate.</p>
<div align="center">
  <img src="img/height-offset-widget.png"/></a>
</div>
<h2 id="dock_projectioneditor"><a class="header" href="#dock_projectioneditor"><code>Dock_ProjectionEditor</code></a></h2>
<p>The DockWidget <code>Dock_ProjectionEditor</code> is already open in the <a href="graphical-user-interface.html#structure">right docking area (8)</a> when the Manager is started:</p>
<div align="center">
  <img src="img/projection-editor-widget.png"/></a>
</div>
<p>The individual buttons in the top line enable various drawing elements to be created in the <a href="graphical-user-interface.html#structure">character area (6)</a>. These are from left to right:</p>
<ul>
<li>Polyline</li>
<li>Text</li>
<li>Circle</li>
<li>Rectangle</li>
<li>Crosshair</li>
<li>Arrow</li>
</ul>
<p>The elements are placed in the drawing area by clicking with the left mouse button. The size of the element is set directly afterwards via a drag operation with the left mouse button pressed and held.</p>
<p>Then some element properties can be adjusted in the DockWidget.</p>
<h2 id="dock_projector_idlist"><a class="header" href="#dock_projector_idlist"><code>Dock_Projector_IDList</code></a></h2>
<p>The Projector Id DockWidget shows the connection status of all known projectors. This widget is the same as what can also be opened via the <a href="graphical-user-interface.html#structure">Projector Status Button (7)</a>.</p>
<div align="center">
  <img src="img/projector-id-widget.png"/></a>
</div>
<p>The &quot;Search&quot; button opens the <a href="projector-management.html#projector-search-dialog">Projector search dialog</a>. New projectors can be added to the system via this dialog.</p>
<p>A line is added to this dialog for each projector found. The individual fields describe:</p>
<ul>
<li>
<p><strong>ID</strong>: the serial number of the projector,</p>
</li>
<li>
<p><strong>Name</strong>: a symbolic name of the projector; if this is missing, the serial number is displayed,</p>
</li>
<li>
<p><strong>IP</strong>: the IPv4 network address of the projector,</p>
</li>
<li>
<p><strong>Info</strong>: A tooltip above this field lists several projector status information:</p>
<div align="center">
  <img src="img/tooltip-projector.png"/></a>
</div>
</li>
<li>
<p><strong>Status</strong>: This icon takes on four different colors:</p>
<ul>
<li>Gray: The projector was found by searching, the &quot;Active&quot; flag is not set and the projector is not connected.</li>
<li>Yellow: The connection establishment is in progress. A transition from gray → yellow is triggered by setting the &quot;Active&quot; checkbox.</li>
<li>Red: The &quot;Active&quot; checkbox is set. The projector was connected, but is currently no longer accessible. Possible reasons include: network connection is disrupted, projector is turned off.
If there is a chain link within the red icon, the projector is already connected to another Service and is therefore blocked.</li>
<li>Green: The projector is connected to the current Service and is ready.</li>
</ul>
</li>
<li>
<p><strong>Active</strong>: Activating this checkbox starts the connection between the Service and the projector and binds the projector to the service. Connection to another service instance is no longer possible until the projector has been released again.</p>
</li>
<li>
<p><strong>Actions Menu</strong> (<i class="fa fa-cog"></i>)</p>
<div align="center">
  <img src="img/projector-id-widget-actions.png"/></a>
</div>
<ul>
<li>Replace: <a href="projector-management.html#replace-projector">Replace projector</a> with an existing or new one.</li>
<li>Remote Control: Activating this checkbox activates the infrared receiver for remote control signals on the respective projector.</li>
<li>Show max field: Starts a projection of the projector maximum field.</li>
<li>Remove: Removes the projector, there are no changes to projection elements or coordinate systems.</li>
</ul>
</li>
</ul>
<p>If a projector no longer automatically connects to the Service after a restart, the connection status of all activated projectors can be refreshed using the &quot;Refresh&quot; button.</p>
<h2 id="dock_projector_projectionborder"><a class="header" href="#dock_projector_projectionborder"><code>Dock_Projector_ProjectionBorder</code></a></h2>
<p>This DockWidget can be used to define so-called projection parting planes. These are primarily intended for use in multi-projector systems.</p>
<div align="center">
  <img src="img/projection-border-widget.png"/></a>
</div>
<p>A parting plane is used to virtually limit the projection area of ​​one or more projectors. A more detailed description can be found in the chapter on <a href="projection-border.html">Borderlines</a>.</p>
<h2 id="dock_propertiesview"><a class="header" href="#dock_propertiesview"><code>Dock_PropertiesView</code></a></h2>
<p>The element properties of drawing elements can be displayed or subsequently edited using this DockWidget:</p>
<div align="center">
  <img src="img/properties-view-widget.png"/></a>
</div>
<p>This widget appears empty as long as no element is selected in the drawing area or in the tree view. Depending on the selection, this DockWidget lists the element properties and provides an input option to adjust the parameters.</p>
<h2 id="dock_workflowmanager"><a class="header" href="#dock_workflowmanager"><code>Dock_WorkflowManager</code></a></h2>
<p>Workflows can be defined via the work process manager, which can later be played back as instructions with multimedia content. In this way, work instructions can be predefined and linked to laser projections. Once defined, they can also be processed independently by unskilled workers.</p>
<div align="center">
  <img src="img/workflow-widget.png"/></a>
</div>
<p>A more detailed description of creating and editing workflows can be found in the chapter on the <a href="workflow-manager.html">Workflow-Manager</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="language-settings"><a class="header" href="#language-settings">Language settings</a></h1>
<p>The ZLP Manager user interface opens in English by default the first time.</p>
<p>The language for the manager can be changed via the menu item <em>Settings</em> → <em>Language</em>. There is a choice between:</p>
<ul>
<li>German</li>
<li>English</li>
<li>Chinese</li>
</ul>
<p>A change in the setting is applied directly.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="importexport"><a class="header" href="#importexport">Import/Export</a></h1>
<p>The <a href="zio-overview.html">Zio</a> or <a href="zio-gui.html">Zio-GUI</a> component is responsible for loading and saving data. This functionality is possible via the manager in the following ways.</p>
<p>The supported file formats are described in the <a href="file-formats.html">Data Formats</a> section.</p>
<h2 id="importexport-projection-file"><a class="header" href="#importexport-projection-file">Import/Export projection file</a></h2>
<p>In the <a href="toolbar.html#toolbar">toolbar</a>, the first two buttons, &quot;Import projection file&quot; and &quot;Export projection file&quot; open a Windows dialog for opening or saving a file. The manager forwards the file names to Zio. If successful, the projection elements then appear in the <a href="treeview.html">tree view</a>.</p>
<p>The action behind both buttons is also accessible via the menu <em>File</em> → <em>Import Projection File</em> or <em>File</em> → <em>Export Projection File</em>.</p>
<h2 id="expert-dialog-zio-gui"><a class="header" href="#expert-dialog-zio-gui">Expert dialog Zio GUI</a></h2>
<p>A second possibility is behind the menu item <em>File</em> → <em>Import/Export Projection File (Expert)</em>. This entry opens the expert dialog <a href="zio-gui.html">Zio-GUI</a>.</p>
<div id="admonition-information" class="admonition info">
<div class="admonition-title">
<p>Information</p>
<p><a class="admonition-anchor-link" href="import-export.html#admonition-information"></a></p>
</div>
<div>
<p>Saving data can be done indirectly via Service, see section on <a href="service-config.html">Service Configuration</a>.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="backup"><a class="header" href="#backup">Backup</a></h1>
<p>A compressed archive of all runtime information can be created via the menu item <em>File</em> → <em>Create backup...</em>. The dialog window automatically suggests a file name based on the current time. The user can optionally leave a comment, but must explicitly specify the storage location:</p>
<div align="center">
<img src="img/backup-widget.png"/>
</div>
<p>Saved files include:</p>
<ul>
<li>the active license file,</li>
<li>the manager configuration <code>zlp-manager_config_9090.xml</code>,</li>
<li>the service configuration <code>zlp-service_9090.info</code> and</li>
<li>configuration files (*.toml)</li>
</ul>
<p>The manager configuration contains settings for visible or deactivated widgets, size and space distribution of the window configuration, etc.</p>
<p>Among other things, the Service configuration saves all connected projectors and all loaded projection elements.</p>
<p>The <a href="program-directories.html#configuration-files">configuration files</a> of the programs contains default values ​​that are valid throughout the system runtime.</p>
<p>A backup copy created in this way can be restored at a later point in time via the menu item <em>File</em> → <em>Load backup...</em>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="service-configuration"><a class="header" href="#service-configuration">Service Configuration</a></h1>
<p>&quot;Importing data&quot; is synonymous to &quot;importing data into the Service application&quot;. The data is stored there in a structure called &quot;GeoTree&quot; (geometry tree) for further processing.</p>
<p>The Service is also able to export its current configuration and output it in a proprietary format that has the <code>.info</code> file extension. This function is accessible in the manager via the menu item <em>File</em> → <em>Load ZLP-Service Configuration...</em> or via <em>File</em> → <em>Save ZLP-Service Configuration...</em>.</p>
<p>In addition to all projection elements, the active license and the list of connected projectors are also saved.</p>
<h2 id="file-name-and-location"><a class="header" href="#file-name-and-location">File Name and Location</a></h2>
<p>By default, the Service configuration name is <code>zlp-service_config_9090.info</code>. The number &quot;9090&quot; corresponds to the port number on which the service listens for incoming connections. When saving, this file is stored in the <a href="program-directories.html#runtime-files">runtime files directory</a> of the ZLP-Suite.</p>
<div id="admonition-warning" class="admonition note">
<div class="admonition-title">
<p>Warning</p>
<p><a class="admonition-anchor-link" href="service-config.html#admonition-warning"></a></p>
</div>
<div>
<p>The Service configuration is not saved via Zio, but directly by the service. The resulting file can therefore only be saved on the computer on which the service is running.</p>
<p>In particular when using a ZLP1 with a PC board, this means that this configuration is stored on the PC board and not on the user PC.</p>
</div>
</div>
<h2 id="auto-save"><a class="header" href="#auto-save">Auto Save</a></h2>
<p>The central <a href="manager-config.html#settings-file">configuration file</a> <code>zlp-manager.toml</code> defines the settings for automatically saving the Service configuration via the manager.</p>
<p>These settings can be changed:</p>
<ul>
<li>whether auto-save is enabled or not,</li>
<li>whether the manager should load this file automatically at startup,</li>
<li>the file name under which the configuration should be saved automatically,</li>
<li>the auto-save interval.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="manager-configuration"><a class="header" href="#manager-configuration">Manager configuration</a></h1>
<p>The manager has two configuration files: the first one to save the current state
(i.e. displayed windows and buttons) and a second one which contains the startup settings.
In the following these two configuration files are described in more detail.</p>
<h2 id="view-file"><a class="header" href="#view-file">View file</a></h2>
<p>The manager saves its current window configuration, which
<a href="dock-widgets.html">DockWidgets</a> are docked and the general graphical view  at:</p>
<table><thead><tr><th>Betriebssystem</th><th>Pfad</th></tr></thead><tbody>
<tr><td>Linux</td><td><code>$HOME/.z-laser/zlp-suite-xx.x/var/zlp-manager_config_&lt;PORT&gt;.xml</code></td></tr>
<tr><td>Windows</td><td><code>%USERPROFILE%\AppData\Local\Z-LASER\ZLP-Suite xx.x\zlp-manager_config_&lt;PORT&gt;.xml</code></td></tr>
</tbody></table>
<p>Saving the file is done automatically each time the program is closed.
Here the port number <code>&lt;PORT&gt;</code> of the ZLP service to which the ZLP-Manager is currently connected is set in the file name.</p>
<p>The file is loaded automatically on startup.
The name of this file can be changed via the <a href="manager-config.html#settings-file">configuration file</a>.</p>
<p>In addition, the Manager configuration can be saved at any time via the menu item <em>File</em> → <em>Save ZLP Manager Configuration...</em> or reloaded via <em>File</em> → <em>Load ZLP Manager Configuration...</em>.</p>
<h2 id="settings-file"><a class="header" href="#settings-file">Settings file</a></h2>
<p>The manager is the only component in the suite that creates its own settings if
no group is present.</p>
<p>The settings of the manager are summarized in the group <code>[ZLP-Manager_&lt;PORT&gt;]</code>.
Where <code>&lt;PORT&gt;</code> is the port number the manager used to connect to the Service.
For each connection to another service instance, a new group entry with all available settings is created.</p>
<p>Below is the default configuration file <code>zlp-manager.toml</code>:</p>
<pre><code class="language-toml">[ZLP-Manager_9090]
# Name of the configuration file that the Manager loads on startup, if
# `auto_load_service_config` is `true`. The file must be located in the
# runtime files directory of the Service.
#
# default: &quot;zlp-service_config_9090.info&quot;
service_config = &quot;zlp-service_config_9090.info&quot;

# If enabled, it causes the Manager to automatically load the configuration
# file in `service_config` on startup.
#
# default: true
auto_load_service_config = true

# If enabled, it causes the Manager to automatically save the Service
# configuration under the filename in `service_config`.
#
# default: true
auto_save_service_config = true

# Number of seconds after which the Manager automatically saves the Service
# configuration under the filename in `service_config`.
#
# default: 600
auto_save_interval_service_config = 600

# Name of the configuration file the Manager loads on startup.
#
# default: &quot;zlp-manager_config_9090.xml&quot;
manager_config = &quot;zlp-manager_config_9090.xml&quot;

# Style sheet used by the Manager.
#
# default: &quot;:/qss/standard.qss&quot; (part of source code)
manager_style = &quot;:/qss/standard.qss&quot;

# Remote control addresses (1-15)
#
# default: []
active_rc_addr = []

# Set startup mode (1-4) for remote controls defined in `active_rc_addr`.
# 1: projection mode
# 2: setup mode
# 3: info panel mode
# 4: clipping mode
# Example: active_rc_addr = [1, 2], active_rc_mode = [1, 1]
#
# default: []
active_rc_mode = []
</code></pre>
<p>More information about the file format used and the location of all configuration files can be found in the <a href="program-directories.html#configuration-file">chapter about configuration files</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="projector-search-dialog"><a class="header" href="#projector-search-dialog">Projector search dialog</a></h1>
<p>The manager has a simple dialog to search for projectors on the network. The projector search dialog is accessible via the <code>Search...</code> button in the <a href="dock-widgets.html#dock_projector_idlist">projector dialog</a>:</p>
<div align="center">
<img src="img/projector-search-dialog.png"/>
</div>
<p>Depending on the selected radio button, the search is either on</p>
<ul>
<li><code>localhost</code> (<code>127.0.0.1</code>),</li>
<li>a selected IPv4 address,</li>
<li>a network area with up to 255 computers</li>
</ul>
<p>carried out. A search in larger areas does not make sense, since the time required for the search would otherwise take too long for practical applications.</p>
<p>If the search is successful, the projectors found appear immediately in the <a href="dock-widgets.html#dock_projector_idlist">Projector dialog</a>.</p>
<h1 id="replace-projector"><a class="header" href="#replace-projector">Replace projector</a></h1>
<p>It is possible to replace an existing projector with another already connected or a new one. Accessing the Replace projector dialog is possible via two paths:</p>
<ul>
<li><em>Projector</em> → <em>Replace projector</em> → <em>PROJECTOR_ID</em></li>
<li>From the action menu in the <a href="dock-widgets.html#dock_projector_idlist">projector dialog</a>:</li>
</ul>
<div align="center">
<img src="img/projector-replace-dialog.png"/>
</div>
<p>Select an already found projector from the drop down or write the new projector serial number. 
All settings such as coordinate systems, projection settings and projection elements are moved to the new projector.</p>
<div id="admonition-warning" class="admonition warning">
<div class="admonition-title">
<p>Warning</p>
<p><a class="admonition-anchor-link" href="projector-management.html#admonition-warning"></a></p>
</div>
<div>
<p>Make sure you have safely backed-up the Service configuration before removing or replacing a projector.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="3d-setup"><a class="header" href="#3d-setup">3D Setup</a></h1>
<p>Immediately after you have loaded data and connected the ZLP suite to a projector, you can start projecting this data. If you are only interested in projecting geometric figures into space and possibly adapting their projection data to the projection surface, you can use the <a href="3d-setup-fcw.html">FCW Coordinate system</a> and skip the rest of the setup.</p>
<p>As a rule, the projection data are constructed true to scale in a CAD program and the projector should project them true to scale onto a surface. The system needs to know where the projector is in relation to the projection surface. The &quot;3D setup&quot; calculates this correspondence using reflectors that have been attached to known locations and can be measured by the projector:</p>
<div align="center">
<img src="img/3d-setup-cs.png" width="500"/>
</div>
<p>Using at least four reference points (here: <code>T1</code>, <code>T2</code>, <code>T3</code> ​​and <code>T4</code>), the coordinate system with the axes X,Y,Z can be determined and the projection can be projected true to scale.</p>
<p>The following chapters describe the setup via the <a href="3d-setup-app.html">3D Setup application</a>:</p>
<div align="center">
<a href="img/3d-setup-app-overview.png"><img src="img/3d-setup-app-overview.png" width="400"/></a>
</div>
<ul>
<li>First a new coordinate system is created. This can be done in two ways: 
<ol>
<li>creating an empty coordinate system : coordinate system name can be chosen freely. 4 reference points (T1-T4 with coordinates x=y=z=0) are automatically assigned. Coordinates have to be edited first.</li>
<li>loading a <code>*.ref</code> file : the coordinate system name corresponds to the file name. The reference points are loaded from the file.</li>
</ol>
</li>
<li>Assign the reference point to the available projectors on the right. Minimum 4 reference points a required per projector.</li>
<li>After that, switch to the 'Setup-Tab' to align the reference points to the construction coordinates.</li>
<li>If reflector points are available, the point search can be started optionally. It refines the angular deflection (\(u,v\)) to the given \((x,y,z)\) position of the reflectors.</li>
<li>With this information, a transformation can be calculated that describes the projector relative to the projection surface.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="fcw-coordinate-system"><a class="header" href="#fcw-coordinate-system">FCW Coordinate system</a></h1>
<p>FCW<sup class="footnote-reference"><a href="#note0">1</a></sup> is a virtual projection plane measured in the laboratory for test purposes, which is about 3.5 m away<sup class="footnote-reference"><a href="#note1">2</a></sup> in the negative Z-direction from the projector:</p>
<div align="center">
<img src="img/fcw-coordinate-system.png"/>
</div>
<p>Every projector is automatically equipped with such a coordinate system. To quickly project data, it is sufficient to switch to expert mode in the <a href="treeview.html">tree view</a> and assign the corresponding coordinate system to the projection data under the name <code>&lt;projector serial number&gt;_FCW</code>,</p>
<div class="footnote-definition" id="note0"><sup class="footnote-definition-label">1</sup>
<p>FCW is an abbreviation for Factory Calibration Wall.</p>
</div>
<div class="footnote-definition" id="note1"><sup class="footnote-definition-label">2</sup>
<p>The exact distance is measured during calibration in the lab and is available to the user from the point search <code>Settings</code> dialog box. See chapter <a href="3d-setup-widget.html">Structure of the 3D Setup widget</a>.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="3d-setup-1"><a class="header" href="#3d-setup-1">3D-Setup</a></h1>
<p>The 3D-Setup application is a stand-alone client application that can directly communicate with the ZLP-Service. 
With this tool, you can create coordinate systems and assign projectors and reference points, calculate drift compensation and use tweaking. </p>
<h2 id="start-3d-setup"><a class="header" href="#start-3d-setup">Start 3D-Setup</a></h2>
<p>The 3D-Setup application can be started over the ZLP-Manager</p>
<div align="center">
<img src="img/3d-setup-app-start.png" width=400/>
</div>
or directly with the executable in the bin folder
<div align="center">
<img src="img/3d-setup-app-start-exe.png"/>
</div>
<p>A user settings file is automatically loaded on startup.
The file contains the last window size and position, whether tweaking was activated and which view settings were set the last time.
The file will be saved automatically after closing the 3D-Setup.</p>
<h2 id="save-and-load-the-current-configuration"><a class="header" href="#save-and-load-the-current-configuration">Save and load the current configuration</a></h2>
<p>There is a possibility to save and load all coordinate system and drift compensation objects in a *.toml file.</p>
<h3 id="save"><a class="header" href="#save">Save</a></h3>
<p>On save, all created coordinate systems and drift compensation objects are saved.</p>
<ol>
<li>Open the menu at &quot;File&quot; and press &quot;Save configuration...&quot;</li>
<li>Enter a file name and press &quot;Save&quot;</li>
<li>A *.toml file will be created. The file can be edited.</li>
</ol>
<h3 id="load"><a class="header" href="#load">Load</a></h3>
<p>On load, all coordinate systems and drift compensation objects will be removed from the Service and replaced by the contents of the file.
If you don't want to lose the current configuration, first perform the steps under <a href="3d-setup-app.html#save">Save</a>.</p>
<ol>
<li>Open the menu at &quot;File&quot; and press &quot;Load configuration...&quot;</li>
<li>Navigate to the desired *.toml file and press &quot;Load&quot;</li>
<li>The complete data will be loaded from the file and the view will update automatically</li>
</ol>
<h2 id="overview-tab"><a class="header" href="#overview-tab">Overview Tab</a></h2>
<p>The 3D-Setup application starts up with the overview tab. </p>
<div align="center">
<img src="img/3d-setup-app-overview.png"/>
</div>
<p>In the overview tab, the coordinate systems are created and assigned to the projectors and reference points.</p>
<h3 id="create-a-coordinate-system"><a class="header" href="#create-a-coordinate-system">Create a coordinate system</a></h3>
<p>On the left spin box area, a list of available coordinate systems is displayed.
Coordinate systems can be created in two ways:</p>
<ol>
<li>Press the [+] button. The coordinate system name can be set freely and 4 reference points (T1-4, x=y=z= 0) are automatically created.</li>
<li>Press the [Load] button to load a *.ref file. This will create a coordinate system with the same name as the ref file and load the included reference points.</li>
</ol>
<h3 id="edit-coordinate-system"><a class="header" href="#edit-coordinate-system">Edit coordinate system</a></h3>
<p>To edit the coordinate system, select the coordinate system and open the context menu (right-click on selected elements)</p>
<h3 id="assign-projector-and-reference-points-to-coordinate-system"><a class="header" href="#assign-projector-and-reference-points-to-coordinate-system">Assign projector and reference points to coordinate system</a></h3>
<p>On the right spin box area all connected projectors and the loaded or created reference points are displayed. To add a projector to the coordinate system, select the projector with the mouse, open the context menu and press &quot;Add&quot;. To assign the reference points to the projector, select the reference points in the table, open the context menu and press &quot;Add to {ProjectorSerialNumber}&quot; The assigned elements will be displayed as children of the projector in the middle.</p>
<h3 id="edit-reference-points"><a class="header" href="#edit-reference-points">Edit reference points</a></h3>
<p>The points can be edited in the table &quot;Reference point&quot;. To edit the values you have the following options:</p>
<ul>
<li><strong>add</strong>: press the [+] button, and a new reference point with the name &quot;T{index}&quot; will be added</li>
<li><strong>remove</strong>: select reference point(s) and press the [-] button</li>
<li><strong>edit</strong>: double-click on the cell you want to edit and enter a new value</li>
<li><strong>replace all</strong>: press the &quot;Load reference point&quot; button and load another *.ref file</li>
</ul>
<h3 id="remove-projectors"><a class="header" href="#remove-projectors">Remove projectors</a></h3>
<p>Projectors can only be removed, if they are no longer connected to the Service, that means deactivated.
Otherwise the projector would be reappear in the list after removal.
To remove a projector, select the desired one, open the context menu and press &quot;Delete&quot;.</p>
<h2 id="setup-tab"><a class="header" href="#setup-tab">Setup Tab</a></h2>
<p>In the setup tab, the reference points of each projector will be assigned to the target reference points and a setup matrix will be calculated</p>
<div align="center">
<img src="img/3d-setup-app-setup.png"/>
</div>
<h3 id="set-up-a-coordinate-system"><a class="header" href="#set-up-a-coordinate-system">Set up a coordinate system</a></h3>
<p>To set up a coordinate system do the following steps:</p>
<ol>
<li>Select one coordinate system from the combo box </li>
<li>Select one projector you want to set up and press the left arrow to display the assigned reference points</li>
<li>Project the max field and the center cross of the projector to assign the projector to the target. The target has to be inside the borders of the max field and for a more accurate setup assign the center cross to center of the target</li>
<li>Select one reference point in the list. The projector starts the projection  of the following element [+] (shows a center cross and search area square) </li>
<li>Move the element to the corresponding reference point on the target. Press and hold the left mouse cursor for normal speed or the right mouse cursor for slow speed. ...</li>
<li>Assign each element on the target and start a point search if reflector points are available</li>
<li>Press calculate and confirm the dialog if the deviations are ok</li>
<li>The projector is set up. This is visualized by an M-Symbol next to the projector</li>
<li>Redo steps 1-8 for the other projectors in the list</li>
</ol>
<h3 id="tweaking"><a class="header" href="#tweaking">Tweaking</a></h3>
<p>Tweaking is used to fix an inaccurate projection if the corresponding reference points on the target system, do not fit exactly. For every reference point, a tweak offset can be set.</p>
<p>To set the tweak offset do the following steps:</p>
<ol>
<li>Select the coordinate system whit the inaccuracy</li>
<li>Select one projector</li>
<li>Open the settings dialog</li>
<li>Activate the checkbox &quot;Activate tweaking&quot; -&gt; in the <a href="3d-setup-app.html#toolbar">ToolBar</a> a new dialog appears (Note: On default, the transformation will be updated automatically if the tweak offset will be changed. Furthermore, if the utility projection (control field) is activated  for validation, the projection will be automatically reloaded. To deactivate this automatism uncheck the checkbox &quot;Auto calc. + projection&quot;. In this case, the calculation of the transformation has to be triggered manually)</li>
<li>Select one or multiple trace points and set the tweak offset</li>
<li>Check the projection to prove if the inaccuracy is compensated</li>
<li>Repeat steps 3-4 until the projection is fine</li>
<li>To reset the tweak offset, select the desired trace points and press &quot;Reset&quot;</li>
</ol>
<h2 id="drift-compensation-tab"><a class="header" href="#drift-compensation-tab">Drift compensation Tab</a></h2>
<p>In the drift compensation tab, a drift compensation matrix will be calculated to compensate for a projector drift. A drift is recognizable by an inaccurate projection that occurs after a while of use in the production environment</p>
<div align="center">
<img src="img/3d-setup-app-dc.png"/>
</div>
<h3 id="initialize-compensation"><a class="header" href="#initialize-compensation">Initialize compensation</a></h3>
<p>The compensation will be set for each projector and will be applied to all assigned coordinate systems.
To initialize the drift compensation do the following steps:</p>
<ol>
<li>Select a projector</li>
<li>Activate the drift compensation by checking the checkbox &quot;Activate&quot;</li>
<li>Select a coordinate system to define in which coordinate system the drift compensation points are located. This can only be determined approximately, there are no real coordinates for the drift compensation points. If the dc points are more or less parallel or otherwise related to the coordinate system use the custom plane option.</li>
<li>Create minimum of 4 drift compensation points by pressing the button [+] </li>
<li>Select one of the drift compensation points in the list. The projector starts the projection  of the following element [+] (shows a center cross and search area rectangle) </li>
<li>Move the element to the corresponding drift compensation point on the target. Press and hold the left mouse cursor for normal speed or the right mouse cursor for slow speed. ...</li>
<li>Assign each element on the target and start a point search if reflector points are available</li>
<li>Press &quot;Initialize&quot; to set up the projector this is now the initial position from this the displacement can be determined. The drift compensation matrix will only be calculated when the user realises, that the projection is getting inaccuracy. Then go on with step <a href="3d-setup-app.html#calculate-drift-compensation-matrix">Calculate drift compensation matrix</a></li>
<li>The projector is initialized</li>
</ol>
<h3 id="calculate-drift-compensation-matrix"><a class="header" href="#calculate-drift-compensation-matrix">Calculate drift compensation matrix</a></h3>
<p>If a drift is recognized do the following steps:</p>
<ol>
<li>Open the 3D-Setup</li>
<li>Navigate to the &quot;Drift compensation&quot; Tab</li>
<li>Select the projector that has drifted and press &quot;Search all&quot;</li>
<li>If minimum 4 points are found press &quot;Calcuate&quot; to calculate the drift (NOTE: Do not press Initialize otherwise the start values and the transformation matrix will be reset)</li>
<li>The successfully calculated drift compensation is visualized by an M-Symbol in front of the projector name inside the combo box</li>
</ol>
<h2 id="settings-dialog"><a class="header" href="#settings-dialog">Settings dialog</a></h2>
<p>The settings dialog offers the possibility to set the global search parameters and the Setup tab contains also the option &quot;Activate tweaking&quot;.</p>
<div align="center">
<img src="img/3d-setup-app-setup-settings.png"/>
</div>
<h2 id="toolbar-1"><a class="header" href="#toolbar-1">Toolbar</a></h2>
<p>The toolbar, found on the right side of the 3D-Setup, allows the final setup of a projector as well as an optional drift compensation. In addition, auxiliary projections can be executed and the view settings can be set.</p>
<table><thead><tr><th style="text-align: center">Toolbar (Setup)</th><th style="text-align: center">Toolbar (Drift compensation)</th></tr></thead><tbody>
<tr><td style="text-align: center"><img src="img/3d-setup-app-setup-toolbar.png" alt="" /></td><td style="text-align: center"><img src="img/3d-setup-app-dc-toolbar.png" alt="" /></td></tr>
</tbody></table>
<h3 id="auxiliary-projections"><a class="header" href="#auxiliary-projections">Auxiliary Projections</a></h3>
<p>Both toolbars allow the auxiliary projections &quot;[ ] Max field&quot; and &quot;[+] Center cross&quot;. The projection &quot;Control field&quot; is reserved for setup only.</p>
<h3 id="search-and-calculate"><a class="header" href="#search-and-calculate">Search and Calculate</a></h3>
<p>Both toolbars offer the ability to search for individual or all points, center a point, and calculate a transformation. You can also use &quot;Settings&quot; to open the settings dialog briefly described above.</p>
<h3 id="view"><a class="header" href="#view">View</a></h3>
<p>Both toolbars offer the ability to change the orientation (s, x, y), the step width and the speed of the mouse movement.</p>
<h3 id="tweak-offset"><a class="header" href="#tweak-offset">Tweak offset</a></h3>
<p>If Tweaking is enabled in the settings dialog of the Setup tab, offset values (dx, dy) can be set and undone for each point in the toolbar.</p>
<h3 id="number-of-reference-points"><a class="header" href="#number-of-reference-points">Number of reference points</a></h3>
<p>The number of reference points that must be at least present in order to perform a calculation can be set in the setup toolbar. There must be at least four reference points.</p>
<h3 id="initialize-and-calculate-drift-compensation"><a class="header" href="#initialize-and-calculate-drift-compensation">Initialize and calculate drift compensation</a></h3>
<p>After the drift equalization has been set up, it still needs to be initialized.
If a drift of the projector is noticed later, all points should be searched and recalculated. An initialization should not be done!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="projection-border"><a class="header" href="#projection-border">Projection border</a></h1>
<p>A parting plane is used to virtually limit the projection area of one or more projectors. Editing of parting planes is possible via the DockWidget <a href="dock-widgets.html#dock_projector_projectionborder"><code>Dock_projector_ProjectionBorder</code></a>.</p>
<p>Projectors that are integrated together in a system often overlap in their projection area. To ensure that the data is not projected from both projectors at the same time or incorrectly, a dividing plane can be created that determines how large the overlapping area is and which areas are to be projected by which projector.</p>
<div align="center">
<img src="img/projection-border-widget.png"/></a>
</div>
<p>It should be noted here that the parting plane from the perspective of the projector will display the data either on the side facing or on the side facing away from the projector.</p>
<p>This can be achieved that flickering is reduced or shading can be avoided.</p>
<p>The &quot;Edit&quot; button opens the dialog for creating and editing parting planes:</p>
<div align="center">
<img src="img/border-plane-dialog.png"/></a>
</div>
<p>In the upper area, the parting plane can be parameterized using an offset and its normal vector.</p>
<p>In the lower area, it can also be shifted in the direction of its normal vector to simplify interactive editing.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="projection-settings"><a class="header" href="#projection-settings">Projection Settings</a></h1>
<p>For every new projector which is connected to the projection system, the
optimal projection parameters for its type are loaded automatically. The default
values ensure a good projection quality for most of the use cases.
Hence, only in rare situation it should be necessary to change them.</p>
<p>The user can access the projection settings dialog through the menu bar:
<em>Projection</em> → <em>Projection settings...</em>:</p>
<div align="center"><img src="img/projection-settings-dialog.png"></div>
<h2 id="global-parameters"><a class="header" href="#global-parameters">Global parameters</a></h2>
<p>The global parameters apply to all projectors in the same way. The values in
millimeters and degrees refer to the
<a href="3d-setup-fcw.html">factory calibration wall</a>. The projection data is mapped on
this plane in order to calculate the projection path (path planning). Here
various preprocessing steps are executed which can be controlled by the global
projection parameters.</p>
<h3 id="maximum-approximation-distance"><a class="header" href="#maximum-approximation-distance">Maximum approximation distance</a></h3>
<p>At the beginning of path planning the projection data is simplified by
removing obsolete points and short lines. The larger the set distance, the
shorter is the computation time and the higher is the projection frequency. At
the same time the actual projection differs more and more from the original
data.</p>
<h3 id="advanced-path-optimization"><a class="header" href="#advanced-path-optimization">Advanced path optimization</a></h3>
<p>Whenever this option is active a geometric path optimization is performed which
comprises the following steps:</p>
<ul>
<li>Adjust the order of contours</li>
<li>Adjust the direction of contours</li>
<li>Remove overlapping contours</li>
</ul>
<p>The optimization increases the projection frequency at the cost of an higher
computation time.</p>
<h3 id="collinear-edge-fusion"><a class="header" href="#collinear-edge-fusion">Collinear edge fusion</a></h3>
<p>This is an optional step of the advanced path optimization in which overlapping
contours are merged. This time-consuming procedure is off by default since most
projections do not have overlapping contours.</p>
<h3 id="corner-detection-angle"><a class="header" href="#corner-detection-angle">Corner detection angle</a></h3>
<p>This parameter controls which points in the projection are treated as corners.
The galvanometers reduce their speed to zero at every corner and the laser is
turned off for a short moment. This approach increases the projection quality
at these positions and is important for laser safety.</p>
<p>The corner detection angle comes from the change of direction of the projection
path at a certain point. A large value leads to a high projection frequency but
rounded off corners.</p>
<h3 id="maximum-sampling-deviation"><a class="header" href="#maximum-sampling-deviation">Maximum sampling deviation</a></h3>
<p>The final projection path comes from calculating galvanometer positions along
the contours of projection (sampling). Normally the sampling points do not
coincident with the intermediate points of a contour. Hence, there is always a
difference between the projection data and the projection path.</p>
<p>The maximum allowed difference can be set with the parameter. A large value
leads to a high projection frequency but low accuracy. A small value gives
the opposite results. In order to comply with the given limit, some sections
might need to be projected at a lower speed and do appear brighter.</p>
<h2 id="projector-parameters"><a class="header" href="#projector-parameters">Projector parameters</a></h2>
<p>The following parameters can be set individually for each projector. This is
useful in situations when projectors of varying types are used in a joint setup.</p>
<p>If many projectors of the same type are used in a multi-projectors system, the
<em>Sync</em> option should be activated to apply all parameter changes to all
projectors at the same time.</p>
<h3 id="tick-time"><a class="header" href="#tick-time">Tick time</a></h3>
<p>This value defines the time gap between consecutive galvanometer
positions. As a consequence it also controls how often the original contours
are sampled during path planing. A low value leads to a more accurate and faster
projection. However, more computation time is needed and the amount of data
to transmit increases.</p>
<p>When the tick time is changed the
<a href="projection-settings.html#synchronization-delay">synchronization delay</a> might need to be adjusted as
well because the actual delay period depends on the tick time.</p>
<h3 id="maximum-laser-on-speed"><a class="header" href="#maximum-laser-on-speed">Maximum laser on speed</a></h3>
<p>This parameter affects the maximum speed of the galvanometers with activated
laser. The given value is usually reached only at very long, straight contours.
A low value increases the projection brightness but reduces the projection
frequency at the same time.</p>
<h3 id="maximum-laser-off-speed"><a class="header" href="#maximum-laser-off-speed">Maximum laser off speed</a></h3>
<p>This parameter defines the maximum speed of the galvanometers when the laser is
inactive. The value should be set as high as possible, since this increases the
projection frequency without much of a negative impact on projection.</p>
<h3 id="maximum-acceleration"><a class="header" href="#maximum-acceleration">Maximum acceleration</a></h3>
<p>At contour ends and corners the speed of the galvanometers is reduced to zero.
The set value defines how quick the galvanometers can speed up again afterwards.
A higher acceleration value results in a higher projection frequency but may
also cause lower accuracy.</p>
<h3 id="synchronization-delay"><a class="header" href="#synchronization-delay">Synchronization delay</a></h3>
<p>In order to improve the projection at contour ends and corners, the
synchronization of galvanometer position and laser modulation can be increased.
This is done by adding a delay whenever the laser modulation changes.
At the beginning of a contour (off → on) the galvanometers wait with an inactive
laser. At the end of a contour (on → off) they wait with an active laser.</p>
<p>The synchronization delay should be set as low as possible to obtain a high
projection frequency and a uniform brightness.</p>
<h3 id="multicolor"><a class="header" href="#multicolor">Multicolor</a></h3>
<p>This parameter activates the usage of multiple laser sources for projectors
which have this hardware feature. Most of the projectors have only a single
laser source (green or red).</p>
<h2 id="hints"><a class="header" href="#hints">Hints</a></h2>
<p>It is not always easy to adjust the projection setting in the right way.
For this reason parameter changes should always
be evaluated live with a real projector and a typical projection. It might also
be useful to send the projection to the projector simulator at the same time.
In its <a href="simulator.html#tab-projection"><em>Projection</em> tab</a> all effects on the
projection path can be studied in detail. The following sections describe some
typical projection problems and possible solutions.</p>
<h3 id="flickering"><a class="header" href="#flickering">Flickering</a></h3>
<p>The projection starts to flicker if the projector has to display to many
contours simultaneously or if it is projecting to slowly.
In such a situation the user should at first check if the number of contours
can be reduced by deactivating the projection elements which are currently not
needed.</p>
<p>Furthermore the <em>advanced path optimization</em> should be active. If a lower
projection accuracy is also an option, the following steps can also help:</p>
<ul>
<li>Reduce the synchronization delay</li>
<li>Increase the maximum sampling deviation</li>
<li>Increase the corner detection angle</li>
<li>Increase the maximum approximation distance</li>
<li>Increase the maximum acceleration</li>
<li>Increase the maximum laser on speed</li>
</ul>
<h3 id="low-accuracy"><a class="header" href="#low-accuracy">Low accuracy</a></h3>
<p>Whenever the projection differs to much from the desired position, the
following countermeasures can be taken:</p>
<ul>
<li>Reduce the maximum approximation distance</li>
<li>Reduce the maximum sampling deviation</li>
<li>Reduce the corner detection angle</li>
<li>Reduce the maximum acceleration</li>
<li>Reduce the time time</li>
</ul>
<h3 id="low-brightness"><a class="header" href="#low-brightness">Low brightness</a></h3>
<p>If only long contours appear to dark, the maximum laser on speed can be reduced
to work against it. If the complete projection should be brighter, the
projection frequency needs to be increased (see <a href="projection-settings.html#flickering">flickering</a>).</p>
<h3 id="gaps"><a class="header" href="#gaps">Gaps</a></h3>
<p>Whenever there are gaps in the projection, the set values for speed and
acceleration do not match the characteristics of the galvanometers in the
projector. Lower values usually close the gaps in the projection.
Alternatively the synchronization delay can be increased.</p>
<h3 id="tails"><a class="header" href="#tails">Tails</a></h3>
<p>Small tails can appear at contour ends if the galvanometers and the laser
modulation are not well synchronized. A higher synchronization delay solves
this issue.</p>
<h3 id="noise"><a class="header" href="#noise">Noise</a></h3>
<p>If the galvanometers are operated at a high speed, noise can be noticeable
during projection. This is not a problem in most cases. The parameter limits
are chosen in such way that the projector can not be damaged.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="user-management"><a class="header" href="#user-management">User Management</a></h1>
<p>By configuring the user management it is possible to assign individual users varying
permissions to restrict access to functionality of the Manager. When the Manager is first
started the user manage­ment is deactivated by default. Once the user management has been
enabled in the &quot;Settings&quot; tab the Manager requires a login on startup.</p>
<p>The user management can be started through the menu entry <em>Settings</em> → <em>Open user manager</em>:</p>
<div align="center">
<img src="img/user-management-1.png"/>
</div>
<p>There are three tabs available. The tab &quot;User Accounts&quot; lists all accounts. They can be
created, edited and removed again from this tab.</p>
<h2 id="manage-user-permissions"><a class="header" href="#manage-user-permissions">Manage user permissions</a></h2>
<p>When a new user is created, it must be assigned to a specific group. All actions that a
user can perform are tied to this group name. The tab &quot;User Rights&quot; can be used to create,
remove and configure the individual permissions:</p>
<div align="center">
<img src="img/user-management-2.png"/>
</div>
<p>By default two groups are predefined. Users belonging to the group <em>Admin</em> may perform any
action by default. Users who belong to the group <em>User</em> have their permissions
pre-configured to disallow all actions.</p>
<p>The name of most of the permissions is self-explanatory. The following settings warrant an
additional description:</p>
<ul>
<li>
<p><em>Edit projection data</em></p>
<p>Allow the user to remove projection elements from the tree view and assign new
coordinate systems to them.</p>
</li>
<li>
<p><em>Edit ZLP-Manager</em></p>
<p>Allow the user to make changes to the user interface of the Manager.This includes
creating, removing and editing buttons in the <a href="toolbar.html">toolbar</a> as well as
modifying and placing <a href="dock-widgets.html">DockWidgets</a>.</p>
</li>
<li>
<p><em>Open user manager</em></p>
<p><strong>Warning:</strong> By providing access to the <a href="user-management.html">User Management</a> it is
possible to enable or disable the access control.</p>
</li>
</ul>
<h2 id="settings"><a class="header" href="#settings">Settings</a></h2>
<p>Besides the configuration of users and groups the last tab lists some general settings
that can be adjusted:</p>
<div align="center">
<img src="img/user-management-3.png"/>
</div>
<div id="admonition-warning" class="admonition warning">
<div class="admonition-title">
<p>Warning</p>
<p><a class="admonition-anchor-link" href="user-management.html#admonition-warning"></a></p>
</div>
<div>
<p>Changes to the user management only become active once the CheckBox &quot;Activate user
manager&quot; has been ticked. Afterwards the Manager must be restarted for the changes to
take effect.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="workflow-manager"><a class="header" href="#workflow-manager">Workflow manager</a></h1>
<p>The workflow manager can be used to generate various workflows. In a workflow, work steps are specified in order to ensure consistent work quality or to facilitate familiarization at a workplace. Projection data, a description and an image that depict the work process can be assigned to each work step. Each completed work step is recorded in terms of time and saved in a log file.</p>
<p>As soon as a workflow is started, the ZLP Manager displays the assigned data for each step in the central window. This means that all relevant information is in one central location and does not have to be additionally available, in for example printed form.
All workflow data is stored in a folder in the installation directory and can therefore be easily transferred to other ZLP-Suite systems.</p>
<h2 id="structure-and-data-storage"><a class="header" href="#structure-and-data-storage">Structure and data storage</a></h2>
<p>The workflow manager contains a list of all available workflows.
Each workflow has a name, a description and any number of steps. If a workflow is selected, the overview shows the name and a description that can be edited there. In addition, the selected workflow can be started, edited, copied and deleted.</p>
<div align="center">
<img src="img/workflow-manager-selected.png"/></a>
</div>
<p>The data is stored in a separate folder (folder name = name of the workflow) located in the <a href="program-directories.html#runtime-files">runtime files directory</a> under <code>workflows/&lt;name of the workflow&gt;</code>.
This folder contains a configuration file <code>workflow.xml</code> that contains the steps of the workflow. Various data (projection, description and image data) can be assigned to each step, which are copied directly into the workflow folder.
In addition, after starting the workflow, a time recording file is created in the <em>log</em> folder under <code>workflows/&lt;name of the workflow&gt;/log</code>.
The start time for each step and the total time required for processing are recorded there.</p>
<h2 id="open-workflow-manager"><a class="header" href="#open-workflow-manager">Open Workflow Manager</a></h2>
<p>The Workflow Manager can be integrated into the ZLP-Manager as a dock widget.
To do this, click on <code>&quot;View/Create DockWidget..&quot;</code> in the menu bar and select the type <code>Dock_WorkflowManager</code> there.
The Workflow Manager becomes pinned as a DockWidget. When exiting the ZLP Manager, the position in the configuration is saved and is available again after a restart.</p>
<h2 id="create-workflow"><a class="header" href="#create-workflow">Create workflow</a></h2>
<p>The workflows created are displayed in an overview view.
Each newly created workflow contains an automatically generated name (workflow{index}) that can be edited and a description that is initially empty.</p>
<ul>
<li>Press the button <code>&quot;Create new workflow&quot;</code></li>
<li>Change the name and provide a description</li>
<li>Press <code>&quot;Edit Workflow&quot;</code> and follow the instructions and under <a href="workflow-manager.html#edit-workflow">Edit Workflow</a></li>
</ul>
<h2 id="edit-workflow"><a class="header" href="#edit-workflow">Edit workflow</a></h2>
<p>To enter edit mode (<em>editor mode</em>), select a workflow and press <code>&quot;Edit Workflow&quot;</code>.</p>
<div align="center">
<img src="img/workflow-manager-edit.png"/></a>
</div>
<p>Steps can be created, deleted and copied there. The workflow can also be played back there to test the process (<em>player mode</em>).</p>
<div align="center">
<img src="img/workflow-manager-open-editor.png"/></a>
</div>
<ul>
<li>Workflow opens in <em>editor mode</em></li>
<li>Press <code>&quot;Add new step&quot;</code> to create a new step. The name of the step is generated automatically. Double-click on the step to edit it.</li>
<li>Press the three buttons in the middle :
<ol>
<li><strong>Projection File</strong> :
Loads the projection file for a selected coordinate system. Only possible when a projector is connected.</li>
<li><strong>Description (optional)</strong> :
Load an HTML page or enter a descriptive text directly</li>
<li><strong>Image (optional)</strong> :
Load an image in PNG or JPEG format</li>
</ol>
</li>
<li>Add more work steps and do the previous step again</li>
<li>To play through the workflow, press <code>&quot;Start Workflow&quot;</code> (optional)</li>
<li>Quit <em>editor mode</em></li>
</ul>
<h2 id="copy-workflow"><a class="header" href="#copy-workflow">Copy workflow</a></h2>
<p>Copied workflows contain all data from the original workflow (projection, description and image data), only the name of the workflow is changed automatically.</p>
<ul>
<li>Select the workflow</li>
<li>Click on copy workflow</li>
<li>An entry with the name of the workflow + <em>_copy</em> is created and the workflow folder is created in the <a href="program-directories.html#runtime-files">runtime files directory</a> under <code>workflows</code></li>
</ul>
<div align="center">
<img src="img/workflow-manager-copy.png"/></a>
</div>
<h2 id="delete-workflow"><a class="header" href="#delete-workflow">Delete workflow</a></h2>
<p>Only one workflow can be deleted at a time</p>
<ul>
<li>Select a workflow</li>
<li>Press the button <code>&quot;Remove selected workflow&quot;</code></li>
<li>The entry and the associated folder in the <em>workflows</em> directory will be deleted</li>
<li>The subsequent workflow is selected automatically</li>
</ul>
<div id="admonition-notice" class="admonition info">
<div class="admonition-title">
<p>Notice</p>
<p><a class="admonition-anchor-link" href="workflow-manager.html#admonition-notice"></a></p>
</div>
<div>
<p>In order to remove all workflows at once, the workflows folder can also be deleted directly. However, either the ZLP manager must then be restarted or the workflow manager must be updated again via the context menu <code>&quot;Reload view&quot;</code>.</p>
</div>
</div>
<h2 id="start-workflow"><a class="header" href="#start-workflow">Start workflow</a></h2>
<p>When starting a workflow, the run mode (<em>player mode</em>) is started. All data of the steps are loaded automatically.</p>
<ul>
<li>Select a workflow</li>
<li>Press <code>&quot;Start workflow&quot;</code></li>
<li>Provide the name of the person performing the workflow</li>
<li>Workflow opens in <em>Player mode</em></li>
<li>Projection data, description and images are loaded for each step</li>
</ul>
<div align="center">
<img src="img/workflow-manager-play-step4.png"/></a>
</div>
<ul>
<li>The projection data is added in a group corresponding to the workflow name</li>
</ul>
<div align="center">
<img src="img/workflow-manager-treeView-data.png"/></a>
</div>
<ul>
<li>Now press either the arrow keys (right, left on the keyboard or in the dialog) to switch between the steps</li>
<li>Each step is timed and stored in a log file</li>
<li>After the last step, a message appears to exit or restart the workflow</li>
<li>When the workflow ends, all projection elements within the workflow's group are removed</li>
</ul>
<h2 id="save-workflow"><a class="header" href="#save-workflow">Save workflow</a></h2>
<p>Each workflow can be backed up. This backup can be loaded on another system via another ZLP manager. All projection files, the texts and the images are backed up. However, the coordinate systems that have been set up are not saved here. It is therefore necessary to save the ZLP service configuration file as well. By default, the configuration file is selected when creating the backup.</p>
<div align="center">
<img src="img/workflow-manager-backup.png"/></a>
</div>
<ul>
<li>Open the backup dialog via the menu bar &quot;File/Create backup...&quot;</li>
<li>Select the workflows to be backed up</li>
<li>Choose a backup location</li>
<li>Press <code>&quot;Export&quot;</code></li>
<li>A backup file with the extension *.zpro is created</li>
</ul>
<h2 id="time-workflow"><a class="header" href="#time-workflow">Time workflow</a></h2>
<p>As soon as a workflow is started, a log file is automatically created with the current date in the workflow in the directory <code>workflows/&lt;name of workflow&gt;/log</code>.
This includes the start time of the workflow and the name of the person who is carrying out the workflow.
The name of the step and the start time are recorded for each step.
If the workflow ends, the end time is recorded.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="overview"><a class="header" href="#overview">Overview</a></h1>
<p>In order to communicate with a laser projector, each client application (e.g. the manager) has to connect to the middleware, the &quot;Service&quot;. This middleware software is delivered in the form of a command line application.</p>
<p>The connection is made via TCP/IP. The Service listens for incoming connections on all known network interfaces. Communication is through a single port, numbered <code>9090</code> by default. The number of simultaneous client connections is unlimited.</p>
<h2 id="usage-1"><a class="header" href="#usage-1">Usage</a></h2>
<p>Typically, the manager serves as the entry point into using the ZLP suite. The Service is started automatically when the manager is started, so that no further action is required by the user with regard to the service.</p>
<p>On Windows, there is a shortcut called &quot;Service&quot; in the ZLP suite installation directory. This starts the application behind the file <code>.../bin/ZLP-Service.exe</code>.</p>
<p>Using the <code>--help</code> option, the application displays the available parameters:</p>
<div align="center">
<img src="img/service-options.png"/>
</div>
<ul>
<li>
<p><code>-c FILENAME.INFO</code>, <code>--config FILENAME.INFO</code><br/></p>
<p>The Service always starts in a not configured state. Settings must be made via the <a href="service-api.html">API</a>. This makes it possible to save the current status again. By default, these files have the file extension
<code>.info</code> and can be passed to this option to restore the saved runtime configuration at launch time.</p>
</li>
<li>
<p><code>-h</code>, <code>--help</code></p>
<p>Show help text</p>
</li>
<li>
<p><code>-v</code>, <code>--verbose</code></p>
<p>With this option, extended debug information is also output to the console. It shows the time required to calculate and transmit the projection data to the projector.</p>
</li>
<li>
<p><code>-p PORT</code>, <code>--port PORT</code></p>
<p>Port number to wait for an incoming connection on. This number should be greater than 1024. Smaller values ​​are often reserved for system services and require administrator rights.</p>
</li>
<li>
<p><code>-t COUNT</code>, <code>--threads COUNT</code></p>
<p>Defines the number of threads the Service uses to process requests from other applications. A larger number improves response times at the expense of throughput. For real-time applications, we recommend choosing smaller values ​​and reducing the number of parallel accesses.</p>
</li>
<li>
<p><code>-l DIRECTORY</code>, <code>--log-dir DIRECTORY</code></p>
<p>By default, log files are stored in the <a href="program-directories.html#runtime-files">runtime files directory</a>. This option allows you to change this target directory. The specified directory must already exist.</p>
</li>
</ul>
<p>After starting, the application can be terminated by pressing <code>Ctrl-C</code> or by closing the console window. All open connections with client applications and projectors are closed. All ongoing projections are terminated shortly thereafter by the projectors.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="api"><a class="header" href="#api">API</a></h1>
<p>All applications that are part of the ZLP suite communicate with the Service via a single API, which you as a customer can access free of charge. You can use it to redesign all operations that are available from Z-Laser, some free, some for a fee, and thus integrate ZLP laser projectors into your own applications.</p>
<h2 id="apache-thrift"><a class="header" href="#apache-thrift">Apache Thrift</a></h2>
<p>In order to make the control of the projectors as independent as possible from the programming language used, ours is based on the <a href="https://thrift.apache.org/">Apache Thrift Framework</a>.</p>
<p>Apache Thrift provides a free compiler that generates target languages ​​from a source file containing function descriptions, wrapper functions, and classes for <a href="https://thrift.apache.org/docs/Languages.html">many</a>.</p>
<p>The communication between the application and the Service works via a TCP/IP socket and is therefore network-transparent.</p>
<p>An overview of the available functions can be found in the SDK documentation in the installation directory of the ZLP suite at
<code>.../documentation/sdk/thrift-interface</code>:</p>
<ul>
<li><a href="../../sdk/thrift-interface/interface.thrift"><code>interface.thrift</code></a></li>
<li><a href="../../sdk/thrift-interface/index.html">HTML documentation</a>.</li>
</ul>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<p>Further examples and documentation for the following languages ​​can be found in the installation directory of the ZLP suite under <code>documentation/sdk</code>:</p>
<ul>
<li><a href="../../sdk/cpp/doc/index.html">C++ SDK</a></li>
<li><a href="../../sdk/python/doc/index.html">Python SDK</a></li>
<li><a href="../../sdk/csharp/doc/index.html">C# SDK</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="overview-1"><a class="header" href="#overview-1">Overview</a></h1>
<p>The program <em>z-io</em> is the import/export interface of the ZLP suite. Its task is
to read in file formats and transfer them to the Service, as well as to read out
data from the service and save it in a file.</p>
<p><em>z-io</em> is a command line program that communicates with the Service via the same
<a href="service-api.html">API</a> as all other applications. Internally, Zio uses a plugin
interface and each supported file format is stored as a DLL in the
<code>.../bin/io_plugins</code> directory.</p>
<p>Data import/export can be done in two ways. Either as a call via the command
line program <em>z-io</em> or the graphical application <a href="zio-gui.html"><em>z-io-gui</em></a>.</p>
<p>Data is stored in the Service in a structure called a &quot;GeoTree&quot;. The individual
elements in the GeoTree are uniquely identified by their name and group name.</p>
<h2 id="calling-z-io"><a class="header" href="#calling-z-io">Calling <code>z-io</code></a></h2>
<p>Using the <code>--help</code> option, the application displays the available parameters.
The following list explains some of the most important ones:</p>
<ul>
<li>
<p><code>--ip ADDRESS</code></p>
<p>IP address to connect to the Service. If this option is not specified,
<code>localhost</code> is used as the default.</p>
</li>
<li>
<p><code>--port NUMBER</code></p>
<p>Port number under which the Service can be reached. If this option is not
specified, <code>9090</code> is used as the default.</p>
</li>
<li>
<p><code>--import FILE</code></p>
<p>Input file for reading in data. At least one of the options <code>--import</code>,
<code>--export</code> or <code>--clear</code> must be specified.</p>
<ul>
<li>
<p><code>--scale x</code></p>
<p>By specifying this option, the data can be scaled by a factor \(x &gt; 0.0\)
during import.</p>
</li>
<li>
<p><code>--shift dx dy dz</code></p>
<p>By specifying this option, an offset can be applied to all imported data.</p>
</li>
<li>
<p><code>--coordinate-system NAME</code></p>
<p>By specifying this option during import, the imported data is automatically
assigned the coordinate system <code>NAME</code>.</p>
</li>
<li>
<p><code>--group NAME</code></p>
<p>By specifying this option when importing, all imported data will
automatically be placed under a group named <code>NAME</code>.</p>
</li>
<li>
<p><code>--replace</code></p>
<p>When loading data, a naming conflict can occur if data is already stored
under the same name. In this case, Zio automatically adds an extension to
the name of the newer data.</p>
<p>Specifying this option resolves these conflicts by allowing the newly
imported data to overwrite the existing ones.</p>
</li>
<li>
<p><code>--project</code></p>
<p>This option tells Zio to start projecting all data in the configured
coordinate systems after import.</p>
</li>
</ul>
</li>
<li>
<p><code>--export FILE</code></p>
<p>Output file to save data. At least one of the options <code>--import</code>, <code>--export</code>
or <code>--clear</code> must be specified.</p>
</li>
<li>
<p><code>--clear</code></p>
<p>Removes all projection elements in the GeoTree. At least one of the options
<code>--import</code>, <code>--export</code> or <code>--clear</code> must be specified.</p>
</li>
</ul>
<h3 id="configuration-file"><a class="header" href="#configuration-file">Configuration file</a></h3>
<p>The default behavior of <em>z-io</em> can be influenced by setting certain parameters.
These parameters and their default values can be viewed by calling
<code>z-io --dump-settings</code>. This command can also be used to create a configuration
file and use it in subsequent calls:</p>
<pre><code class="language-shell">z-io --dump-settings &gt; z-io-config.toml
# edit z-io-config.toml
z-io --config z-io-config.toml [--import ... | --export ...]
</code></pre>
<p>It is also possible to create a default configuration file by using the option
<code>--save-settings</code>. This call creates a configuration file in the directory
<code>.z-laser</code> in the home directory of the current user. If the file is present,
it is automatically loaded by every call of <em>z-io</em> which does not use the
<code>--config</code> option explicitly.</p>
<h3 id="evaluation-order"><a class="header" href="#evaluation-order">Evaluation order</a></h3>
<p>The program <em>z-io</em> can receive parameters in multiple different ways. By doing
so some options can overwrite others. The order of evaluation is as follows:</p>
<ol>
<li>
<p>Parameters in configuration file</p>
<pre><code class="language-toml">[z-io]
scale = 2.0
</code></pre>
</li>
<li>
<p>Parameters after <code>--option</code></p>
<pre><code class="language-bash">z-io &lt;...&gt; --option &quot;z-io.scale = 3.0&quot;
</code></pre>
</li>
<li>
<p>Parameters with own CLI option</p>
<pre><code class="language-bash">z-io &lt;...&gt; --scale 4.0
</code></pre>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="zio-gui"><a class="header" href="#zio-gui">Zio GUI</a></h1>
<p>Starting the application <code>.../bin/z-io-gui</code> opens the following dialog window:</p>
<div align="center">
<img src="img/zio-gui-import.png"/>
</div>
<p>The same interface can be used as an expert dialog by the manager via the menu
<em>File</em> → <em>Import/Export Projection File (Expert)...</em>:</p>
<p>The input interface is divided into three tabs: Import, Export, Plugins.</p>
<h2 id="import"><a class="header" href="#import">Import</a></h2>
<p>In addition to the file name, some optional parameters can be set for the file import.</p>
<p>The combo box for the <strong>Coordinate System</strong> entry can be updated manually and lists all known coordinate systems. If a coordinate system is selected here, this coordinate system is automatically assigned to all imported projection elements.</p>
<p>The imported data from the file can all be attached below the specified group name via the <strong>Group name</strong> input field.</p>
<p>Checking the <strong>Start projection</strong> checkbox means that after reading in, all the data in the GeoTree are displayed using their set coordinate system.</p>
<p>If the checkbox <strong>Delete projection</strong> is set, all existing data will be removed from the GeoTree before the import.</p>
<p>When loading data, a naming conflict can occur if data is already stored under the same name. In this case, Zio automatically adds an extension to the name of the newer data. By activating the <strong>Replace the elements</strong> option, these conflicts are resolved by the newly imported data overwriting the existing ones.</p>
<p>The remaining two options <strong>Scaling factor</strong> and <strong>Shift (x,y,z)</strong> additionally transform the read data by the specified values.</p>
<h2 id="export"><a class="header" href="#export">Export</a></h2>
<p>The Export tab offers the possibility to specify the file name and the file format under which the exported data should be saved. All elements in the GeoTree are always exported.</p>
<div align="center">
<img src="img/zio-gui-export.png"/>
</div>
<h2 id="plugins"><a class="header" href="#plugins">Plugins</a></h2>
<p>The Plugins tab lists all available plugins and their properties:</p>
<div align="center">
<img src="img/zio-gui-plugins.png"/>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="file-formats"><a class="header" href="#file-formats">File formats</a></h1>
<p>Each import or export format has its own plugin in Zio. The formats <a href="file-formats.html#dxf">DXF</a>, <a href="file-formats.html#hpgl">HPGL</a>, <a href="file-formats.html#zlp">ZLP</a>, <a href="file-formats.html#ref">REF</a> and <a href="file-formats.html#ulb6-610">ULB6</a> are currently supported, which are briefly described below:</p>
<h2 id="dxf"><a class="header" href="#dxf">DXF</a></h2>
<p><strong>File Extension:</strong> .dxf</p>
<p><strong>Import:</strong> yes</p>
<p><strong>Export:</strong> yes</p>
<h4 id="description"><a class="header" href="#description">Description</a></h4>
<p>DXF (Drawing Interchange File Format) is a file format specified by Autodesk for exchanging CAD data and was originally developed for AutoCAD. Today it generally serves as the industry standard for data exchange for CAD systems.</p>
<p>As with many other data formats, not all information from a DXF file makes sense for display by the laser projector. For example, surfaces or material properties cannot be displayed as a laser line on their own.</p>
<p>The DXF parser of the ZLP suite therefore only reads the <code>ENTITIES</code> section from DXF files. In particular, the <code>BLOCKS</code> sections are not evaluated. The following element types from the <code>ENTITIES</code> section can be imported:</p>
<ul>
<li><code>LINE</code>: start and end point (3D),</li>
<li><code>POLYLINE</code>: single point list (3D), flags: closed,</li>
<li><code>LWPOLYLINE</code>: single point list (2D), flags: closed,</li>
<li><code>ARC</code>: circular arc,</li>
<li><code>CIRCLE</code>: circle,</li>
<li><code>TEXT</code>: text with position (3D), text height and text angle.</li>
</ul>
<p>Group names are defined by the layer name. If the layer does not have a name, the index is used as the name. DXF elements do not have a name. An automatically generated name is therefore used for each element, which results from the type and an increasing number per layer, e.g. <code>ARC1</code>, <code>CIRCLE1</code>.</p>
<h2 id="hpgl"><a class="header" href="#hpgl">HPGL</a></h2>
<p><strong>File extension:</strong> .plt, .hpgl, .hgl, .las</p>
<p><strong>Import:</strong> yes</p>
<p><strong>Export:</strong> no</p>
<h4 id="description-1"><a class="header" href="#description-1">Description</a></h4>
<p>Data in HPGL format is a description in text format suitable for human manipulation. The name is a reference to the Hewlett Packard Graphics Language, a description language for plotting: the commands follow the idea of ​​a pen that can be lifted and placed on the drawing surface. Geometric figures can be &quot;drawn&quot; using various graphics commands.</p>
<p>The data format described here is not compatible with the Hewlett Packard language. It is also not compatible with the HPGL format used in laser projectors from the LP-HFD family.</p>
<p>HPGL is structured line by line. Each line starts with a keyword, optionally followed by several parameters. The line is delimited by the ASCII characters <code>NL</code> or <code>CR</code>
<code>NL</code> ended.</p>
<p>The encoding of the text data must be in ASCII.</p>
<ul>
<li>
<p><code>IN</code> (Initialize)</p>
<p>Reset the current drawing properties to their initial state. These are:</p>
<ul>
<li>all polylines are deleted,</li>
<li>the pen is lifted,</li>
<li>the internal position is reset to \( (0, 0, 0) \),</li>
<li>the number of the current pen is set to 0,</li>
<li>the end-of-caption character is set to ASCII character 0x03 (<code>ETX</code>),</li>
<li>the end-of-caption character itself is removed from the caption,</li>
<li>character height is set to 10,</li>
<li>text angle is set to 0°.</li>
</ul>
</li>
<li>
<p><code>SP no</code> (Select Pen)</p>
<p>Set the number <code>no</code> of the pen used. All graphic elements that are subsequently drawn are assigned this pen number. It can be helpful to think of a color under this number, although laser projections usually
be displayed in one color.</p>
</li>
<li>
<p><code>PD</code> (Pen Down)</p>
<p>Put down the pen. Drawing instructions with the pen raised are not projected.</p>
</li>
<li>
<p><code>PU</code> (Pen Up)</p>
<p>Pick up the pen. Drawing instructions with the pen raised are not projected.</p>
</li>
<li>
<p><code>PA x1,y1[,z1] [, ..., Xn,Yn]</code> (Pen Absolute)</p>
<p>Draws a line from the current position to the specified point, or a polyline between the specified points.</p>
<p>The coordinates are understood as absolute values.</p>
<p>If only one point is specified, the coordinates can be specified in 3D, i. H. an indication of X, Y, Z coordinates.</p>
<p>If multiple points are given, it is assumed that each point consists only of X and Y coordinates. The Z coordinate is always set to 0.</p>
</li>
<li>
<p><code>PR x1,y1[,z1] [, ..., Xn,Yn]</code> (Pen Relative)</p>
<p>Draws a line from the current position to the specified point, or a polyline between the specified points.</p>
<p>The coordinates are understood as a relative shift to the current position.</p>
<p>If only one point is specified, the coordinates can be specified in 3D, i. H. an indication of X, Y, Z coordinates.</p>
<p>If multiple points are given, it is assumed that each point consists only of X and Y coordinates. The Z coordinate is always set to 0.</p>
</li>
<li>
<p><code>CI radius</code> (circle)</p>
<p>Draws a circle at the current location with the specified radius.</p>
</li>
<li>
<p><code>AA x,y, angle[, resolution]</code> (Arc Absolute)</p>
<p>Draws an arc around the current position with starting angle \(\mathrm{atan2}(y,x)\) and arc length \(angle\) radians.</p>
<p>Specifying a resolution <code>resolution</code> is possible, but obsolete. Support for this will be removed in a later release.</p>
</li>
<li>
<p><code>DTterm[, mode]</code> (Define Terminator)</p>
<p><code>term</code> is a single character used as an end character to terminate
strings. Default: <code>ETC</code>, ASCII character 0x03.</p>
<p><code>mode</code> is either 0 or 1. A value of 1 indicates that the terminator <code>term</code> itself should not be part of the text and should be removed on output. Default: 1.</p>
</li>
<li>
<p><code>LBtext</code> (LaBel)</p>
<p>Returns the string <code>text</code> at the current position. The text must be terminated by the currently defined termination character (see <code>DT</code>).</p>
<p>Uses the current text height, pen, and currently defined text angle.</p>
</li>
<li>
<p><code>DI x,y</code> (label DIrection)</p>
<p>Defines the text angle as \(\mathrm{atan2}(y, x)\). Default: 0°.</p>
</li>
<li>
<p><code>SI height</code> (SIze)</p>
<p>Defines the character height for text output. Default: 10.</p>
</li>
<li>
<p><code>ZN [group/[...]]name</code> (Z-laser name)</p>
<p>Defines the (group) name for subsequent drawing elements. Similar to file paths, elements can be grouped together. The group names are separated by a <code>/</code> character.</p>
</li>
<li>
<p><code>ZC comment</code> (Z-laser Comment)</p>
<p>The text behind this command is ignored and can be used to document the current HPGL file.</p>
</li>
<li>
<p><code>CO comment</code> (COmment)</p>
<p>obsolete. Alternative to <code>ZC</code>.</p>
</li>
<li>
<p><code>PL x1,y1[,z1] [, ..., Xn,Yn]</code> (Plot Line)</p>
<p>obsolete. Alternative to <code>PA</code>.</p>
</li>
</ul>
<h2 id="zlp"><a class="header" href="#zlp">ZLP</a></h2>
<p><strong>File Extension:</strong> .zlp</p>
<p><strong>Import:</strong> yes</p>
<p><strong>Export:</strong> yes</p>
<h4 id="description-2"><a class="header" href="#description-2">Description</a></h4>
<p>This is an internal, binary file format of Z-Laser. Files of this type are suitable for importing and exporting projection data from the GeoTree without loss.</p>
<h2 id="ref"><a class="header" href="#ref">REF</a></h2>
<p><strong>File Extension:</strong> .ref</p>
<p><strong>Import:</strong> yes</p>
<p><strong>Export:</strong> no</p>
<h4 id="description-3"><a class="header" href="#description-3">Description</a></h4>
<p><code>.ref</code> files are text files that contain coordinates for reference points only. These are
used to set up the laser projectors on a specific coordinate system and can be loaded via
the manager at <a href="3d-setup.html">3D Setup</a>.</p>
<p>The encoding must be in ASCII.</p>
<p>The file format is structured line by line. Each line is terminated by a <code>NL</code> or <code>CR</code> <code>NL</code>. The structure of a line is as follows:</p>
<pre><code class="language-text">Tn x,y,z;
</code></pre>
<p><code>Tn</code> is the identifier of the reference point. The identifier must not contain spaces.</p>
<p>Separated from the identifier by a space, three coordinates follow: <code>x</code>, <code>y</code> and <code>z</code>. These are floating point numbers separated by a comma. Decimal point is a point.</p>
<p>The line ends with a semicolon.</p>
<p>Blank lines are skipped. There is no possibility for comments.</p>
<h2 id="ulb6-610"><a class="header" href="#ulb6-610">ULB6 (6.1.0)</a></h2>
<p><strong>File Extension:</strong> .ul6, .ulb6, .u6</p>
<p><strong>Import:</strong> yes</p>
<p><strong>Export:</strong> no</p>
<h4 id="description-4"><a class="header" href="#description-4">Description</a></h4>
<p>The ULB6 format is a CAD format, created for the concrete industry, and was defined by Unitechnik in their CADCAM interface. Generally, the data is transferred in ASCII format, meaning it is humanly readable, printable and able to be edited using a simple text-editor.</p>
<p>The format is divided into a list of blocks which have their own meaning and use for an end customer. The following blocks have to be defined with mandatory order:</p>
<ul>
<li><code>HEADER__</code>: The most top-level block, containing all or most of the following elements. Contains general data.</li>
<li><code>SLABDATE</code>: The second most top-level block, functions as a element block and contains general data for said element.</li>
<li><code>CONTOUR_</code>: The first block containing actual projectable data. Shows the outline description of the assembly.</li>
</ul>
<p>The following may be dropped, if not containing any visual data.</p>
<ul>
<li><code>CUTOUT__</code>: The cutouts of an assembly.</li>
<li><code>MOUNPART</code>: The mounting parts of the assembly.</li>
<li><code>RODSTOCK</code>: Individual steel bars of the assembly.</li>
<li><code>BRGIRDER</code>: Steel braced girder of the assembly.</li>
</ul>
<div id="admonition-note" class="admonition note">
<div class="admonition-title">
<p>Note</p>
<p><a class="admonition-anchor-link" href="file-formats.html#admonition-note"></a></p>
</div>
<div>
<p>Note that the format defines more types of blocks that are not mentioned here. They are left out, since they are irrelevant for the projection.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="overview-2"><a class="header" href="#overview-2">Overview</a></h1>
<p>The ZLP-Suite installation comes with an adapted version of an interpreter for the popular programming language <a href="https://www.python.org">Python</a>.</p>
<p>The executable is located at <code>.../bin/python</code> in the ZLP suite installation directory. It is version 3.6.3. This version is used by the manager to run the Manager scripts. The Service performs the processing of the remote control signals via an embedded Python interpreter.</p>
<div align="center">
<img src="img/python.png"/>
</div>
<p>The adjustments are limited to:</p>
<ul>
<li>the search path of the interpreter has been adjusted so that the components of the ZLP suite are found by the interpreter,</li>
<li>the Package Installer for Python (pip) is disabled</li>
<li>the version number has the identifier <code>Z-LASER:&lt;Git-SHA1&gt;</code>.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="simulator"><a class="header" href="#simulator">Simulator</a></h1>
<p>The functionality of the ZLP suite includes simulation software that can be connected to the system instead of a real laser projector. It serves as a simple alternative for visualization, commissioning or diagnostics.</p>
<p>The laser projector simulator is linked under <code>.../Simulator</code> as a link in the installation directory of the ZLP suite. The shortcut points to the application <code>.../bin/lp_simulator</code>.</p>
<p>To start the simulator requires an ONC RPC service, which is supplied in the form of <a href="portmap.html">Portmap</a> or <a href="rpcbind.html">rpcbind</a>, see the following chapters.</p>
<p>The simulator can be started without parameters and opens a graphical user interface:</p>
<div align="center">
<img src="img/simulator-projection-off.png"/>
</div>
<p>The simulator can be connected to the manager via the <a href="dock-widgets.html#dock_projector_idlist">projector dialog</a> like any other projector. In this case, the title bar of the window shows the active connection: &quot;LINKED with 127.0.0.1:9090&quot;.</p>
<h2 id="tab-projection"><a class="header" href="#tab-projection">Tab projection</a></h2>
<p>There are three tabs to choose from. The &quot;Projection&quot; tab shows the current projection:</p>
<div align="center">
<img src="img/simulator-projection-live.png"/>
</div>
<p>The section shown can be enlarged and reduced using the mouse wheel on the projection surface. The display area can be moved using drag &amp; drop. A click with the right mouse button centers the display and restores the initial situation.</p>
<p>The projection surface first shows the projected laser line. Not every projection can be run in one go with the laser switched on. Using the checkboxes on the right edge you can visualize the follow:</p>
<ul>
<li>Movements of the galvanometers when the laser is off,</li>
<li>Approached points on the projection line,</li>
<li>Vertices of the projection,</li>
</ul>
<p>The list of points below shows the coordinates actually approached by the projector. The area above the projection details lists the calculated repetition rate and the time during a run that the laser must be switched on or off.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="portmap"><a class="header" href="#portmap">Portmap</a></h1>
<p><a href="https://en.wikipedia.org/wiki/Portmap">Portmap</a> is an open network computing Service to perform functions on network nodes. Projectors of the ZLP family make their services available via this interface.</p>
<div id="admonition-warning" class="admonition note">
<div class="admonition-title">
<p>Warning</p>
<p><a class="admonition-anchor-link" href="portmap.html#admonition-warning"></a></p>
</div>
<div>
<p>The interface is not part of the public API. All applications
must adhere to the Service's <a href="service-api.html">Thrift API</a> for laser safety reasons.</p>
</div>
</div>
<p>In order to keep the simulation of a laser projector as authentic as possible, the laser projector simulator uses the same interface as the other projectors in the ZLP family.</p>
<p><code>portmap</code> is pre-installed on most GNU/Linux systems and is active as a system service. Portmap can be started on a Windows system using the program <code>portmap.exe</code>. It is linked as shortcut <code>.../Portmap</code> in the installation directory. The link leads to the file <code>.../bin/portmap.exe</code>.</p>
<p>The program can be started without parameters and presents itself as a simple console window:</p>
<div align="center">
<img src="img/portmap.png"/>
</div>
<p>From this point on, the simulator can be started. Portmap must be active for the duration of use, but can be minimized and is not relevant for further operation.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rpcbind"><a class="header" href="#rpcbind">rpcbind</a></h1>
<p>As an alternative to <code>portmap.exe</code>, the program <code>rpcbind.exe</code> can be installed as a local system service. The advantage is that before starting the simulator <code>portmap.exe</code> you don't have to start it explicitly and you don't have to open another window.</p>
<p>The installation can be done using the Windows command <code>sc.exe</code> with administrator rights.</p>
<p>Full documentation of the command can be found on Microsoft's official help: <a href="https://docs.microsoft.com/en-US/windows-server/administration/windows-commands/sc-create">https://docs.microsoft.com/en-US/windows-server/administration/windows-commands/sc-create</a></p>
<h2 id="installation-as-a-windows-service"><a class="header" href="#installation-as-a-windows-service">Installation as a Windows Service</a></h2>
<ul>
<li>Open the powershell as administrator,</li>
<li>Locate the application <code>rpcbind.exe</code> in the <code>.../bin</code> directory of the ZLP suite installation.</li>
<li>Enter the following line:</li>
</ul>
<pre><code class="language-power shell">sc.exe create rpcbind binPath= &quot;&lt;path-to-rpcbind.exe&gt;&quot; start= auto
</code></pre>
<p>This line registers the program <code>rpcbind.exe</code> as a service that is started when the system is started. Where <code>&lt;path-to-rpcbind.exe&gt;</code> must be replaced with the full path to the application.</p>
<div id="admonition-warning" class="admonition info">
<div class="admonition-title">
<p>Warning</p>
<p><a class="admonition-anchor-link" href="rpcbind.html#admonition-warning"></a></p>
</div>
<div>
<ol>
<li>The <code>=</code> character is part of the parameter and must be directly appended to <code>binPath</code> without spaces
stand: <code>binPath= </code></li>
<li>The path specification must be enclosed in <code>&quot;...&quot;</code>.</li>
<li><code>binPath=</code> and the path specification must be separated by a space.</li>
</ol>
</div>
</div>
<p>After successful installation, <code>sc.exe</code> acknowledges success with:</p>
<pre><code class="language-text">[SC] CreateService SUCCESS
</code></pre>
<p><code>rpcbind</code> will be started automatically at the next boot. ES can be started manually using either the Task Manager or the following command:</p>
<pre><code class="language-power shell">sc.exe start rpcbind
</code></pre>
<h2 id="uninstall-windows-service"><a class="header" href="#uninstall-windows-service">Uninstall Windows Service</a></h2>
<p>The self-installed service can be deleted as follows:</p>
<ul>
<li>Open the powershell as administrator.</li>
<li>If necessary, stop the service.</li>
<li>Enter the following line:</li>
</ul>
<pre><code class="language-power shell">sc.exe delete rpcbind
</code></pre>
<p>A system restart may be required before the &quot;rpcbind&quot; entry is removed from the list of services.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="remote-control"><a class="header" href="#remote-control">Remote control</a></h1>
<p>All projectors of the ZLP family are equipped with an infrared sensor for
remote control signals. Z-Laser offers appropriate remote controls as optional
accessories.</p>
<p>The default remote control has 29 keys and looks as follows:</p>
<div align="center"><img src="img/remote-control-1.png"></div>
<div id="admonition-note" class="admonition note">
<div class="admonition-title">
<p>Note</p>
<p><a class="admonition-anchor-link" href="remote-control.html#admonition-note"></a></p>
</div>
<div>
<p>Multiple keys of the remote control may not be pressed simultaneously. For a key
combination as e.g. <code>[A][B]</code> the key <code>[A]</code> has to be pressed and released first
followed by key <code>[B]</code>.</p>
</div>
</div>
<h2 id="address-assignment"><a class="header" href="#address-assignment">Address assignment</a></h2>
<p>The ZLP system receives signals of all remote controls nearby. In order to
separate the different remote controls, an unique address has to be assigned to
each one of them. This can be any number between &quot;01&quot; and &quot;15&quot;.</p>
<p>An address is assigned by using the following key combination:</p>
<pre><code class="language-txt">[Adr.][Nummer][Nummer][Adr.]
</code></pre>
<p>The blue keys work as a numeric keypad. The status light flashes once whenever
the new address has been set.</p>
<div align="center"><img src="img/remote-control-2.png"></div>
<div id="admonition-address-00" class="admonition warning">
<div class="admonition-title">
<p>Address 00</p>
<p><a class="admonition-anchor-link" href="remote-control.html#admonition-address-00"></a></p>
</div>
<div>
<p>Address &quot;00&quot; activates the <a href="remote-control-00.html">service mode</a> which should not
be used for production.</p>
<p>At first usage and after a battery change the remote control always starts with
address &quot;00&quot;. The right address needs to be set by the user.</p>
</div>
</div>
<h2 id="modes"><a class="header" href="#modes">Modes</a></h2>
<p>The action triggered by a certain key changes with respect to the currently
active mode.
There are four default modes (P1 - P4) to support the following tasks:</p>
<ul>
<li>P1: <a href="remote-control-p1.html">Control the projection</a></li>
<li>P2: <a href="remote-control-p2.html">Set up a projector</a></li>
<li>P3: <a href="remote-control-p3.html">Show the info panel</a></li>
<li>P4: <a href="remote-control-p4.html">Set up clipping</a></li>
</ul>
<p>Every remote control which is not set up to address &quot;00&quot; starts automatically
within projection mode. This behavior can be changed through the
<a href="manager-config.html#settings-file">start-up configuration of ZLP-Manager</a>.</p>
<p>Besides the default modes there is also the <a href="remote-control-00.html">service mode</a>
for test and setup purposes.</p>
<h2 id="signal-reception"><a class="header" href="#signal-reception">Signal reception</a></h2>
<p>By default a projector receives all remote control signals nearby after being
turned on. If the ZLP-Service connects to the projector afterwards, the signal
reception is turned off automatically. If needed the user can activate the
signal reception permanently again e.g. through the
<a href="dock-widgets.html#dock_projector_idlist">projector dialog</a> of ZLP-Manager.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="projection-mode-p1"><a class="header" href="#projection-mode-p1">Projection mode (P1)</a></h1>
<p>The projection mode supports the user when working with projection data. It is activated via the following key combination:</p>
<pre><code>[Mode][P1]
</code></pre>
<p>The keys then have the following meaning:</p>
<table><thead><tr><th>Key</th><th>Function</th></tr></thead><tbody>
<tr><td><code>[ON/OFF]</code></td><td>Turn projection on or off</td></tr>
<tr><td><code>[Focus In]</code></td><td></td></tr>
<tr><td><code>[Focus Out]</code></td><td></td></tr>
<tr><td><code>[Arrow up]</code></td><td>Show next projection element</td></tr>
<tr><td><code>[Arrow down]</code></td><td>Show previous projection element</td></tr>
<tr><td><code>[Arrow right]</code></td><td>Show first projection element of next group</td></tr>
<tr><td><code>[Arrow left]</code></td><td>Show the first projection element of the previous group</td></tr>
<tr><td><code>[Turn right]</code></td><td>Show all projection elements of the next group</td></tr>
<tr><td><code>[Turn left]</code></td><td>Show all projection elements of the previous group</td></tr>
<tr><td><code>[HOME]</code></td><td>Show/hide info text field with name of current projection element</td></tr>
<tr><td><code>[SEARCH]</code></td><td>Update setup for all projectors</td></tr>
<tr><td><code>[+]</code></td><td></td></tr>
<tr><td><code>[-]</code></td><td></td></tr>
<tr><td><code>[2nd Func][HOME]</code></td><td>Reset motion detector (ZLP2)</td></tr>
<tr><td><code>[2nd Func][SEARCH]</code></td><td></td></tr>
<tr><td><code>[2nd Func][+]</code></td><td></td></tr>
<tr><td><code>[2nd Func][-]</code></td><td></td></tr>
<tr><td><code>[2nd Func][Arrow up]</code></td><td></td></tr>
<tr><td><code>[2nd Func][Arrow down]</code></td><td></td></tr>
<tr><td><code>[2nd Func][Arrow right]</code></td><td></td></tr>
<tr><td><code>[2nd Func][Arrow left]</code></td><td></td></tr>
<tr><td><code>[P1]</code></td><td></td></tr>
<tr><td><code>[P2]</code></td><td></td></tr>
<tr><td><code>[P3]</code></td><td></td></tr>
<tr><td><code>[P4]</code></td><td></td></tr>
<tr><td><code>[P5]</code></td><td></td></tr>
<tr><td><code>[P6]</code></td><td></td></tr>
<tr><td><code>[P7]</code></td><td></td></tr>
<tr><td><code>[P8]</code></td><td></td></tr>
<tr><td><code>[P9]</code></td><td></td></tr>
<tr><td><code>[P10]</code></td><td></td></tr>
<tr><td><code>[P11]</code></td><td></td></tr>
<tr><td><code>[P12]</code></td><td></td></tr>
<tr><td><code>[P13]</code></td><td></td></tr>
<tr><td><code>[P14]</code></td><td></td></tr>
<tr><td><code>[P15]</code></td><td></td></tr>
<tr><td><code>[P16]</code></td><td></td></tr>
<tr><td></td><td></td></tr>
</tbody></table>
<p>In order for the info text field to be displayed with the <code>[HOME]</code> key, the info text field must have been configured beforehand using the <a href="remote-control-p3.html">Info field mode (P3)</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="setup-mode-p2"><a class="header" href="#setup-mode-p2">Setup mode (P2)</a></h1>
<p>Setup mode assists users in setting up a projector to a coordinate system.
It is activated using the following key combination:</p>
<pre><code class="language-txt">[Mode][P2]
</code></pre>
<p>The keys then have the following meaning:</p>
<table><thead><tr><th>Key</th><th>Function</th></tr></thead><tbody>
<tr><td><code>[ON/OFF]</code></td><td>Turn projection on or off</td></tr>
<tr><td><code>[2nd Func][HOME]</code></td><td>Reset motion detector (ZLP2)</td></tr>
<tr><td><code>[HOME]</code></td><td>Select element type</td></tr>
<tr><td><code>[Focus In]</code></td><td>Select element type</td></tr>
<tr><td><code>[Focus Out]</code></td><td>Deselect element type</td></tr>
<tr><td><code>[Arrows]</code></td><td>Move search area</td></tr>
<tr><td><code>[Turn right]</code></td><td>Select next element</td></tr>
<tr><td><code>[Turn left]</code></td><td>Select previous element</td></tr>
<tr><td><code>[SEARCH]</code></td><td>Search selected reference point</td></tr>
<tr><td><code>[+]</code></td><td>Increase search area</td></tr>
<tr><td><code>[-]</code></td><td>Reduce search area</td></tr>
<tr><td><code>[2nd Func][+]</code></td><td>Increase font size</td></tr>
<tr><td><code>[2nd Func][-]</code></td><td>Reduce font size</td></tr>
<tr><td><code>[P1]</code> - <code>[P16]</code></td><td>Select element by number directly</td></tr>
<tr><td><code>[All]</code></td><td>Search all reference points</td></tr>
</tbody></table>
<p>In order to use the setup mode a coordinate system has to be defined in the
<em>3D-Setup</em> dialog. A projector with reference points needs to be assigned to the
coordinate system also.</p>
<p>When the setup mode is active, at first a projector needs to be selected by
using <code>[Focus In]</code> or <code>[HOME]</code>. The projector projects its serial number in the
middle of its projection area. A different projector can be selected by using
the rotation keys.</p>
<p>The projector is selected afterwards by pressing <code>[Focus In]</code> or <code>[HOME]</code> again.
Next a coordinate system can be selected in the same way. When this step is also
finished the projector shows the trace point of every reference point. Now the
user can use the arrow keys to set the right position and optionally start a
point search. The new positions are saved automatically.</p>
<p>When all reference point positions are set, the projector setup can finally be
calculated in the <em>3D-Setup</em> dialog.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="info-panel-mode-p3"><a class="header" href="#info-panel-mode-p3">Info panel mode (P3)</a></h1>
<p>In info field mode, the user can configure a placeholder. This placeholder can be used in <a href="remote-control-p1.html">Projection mode (P1)</a> to display the name of the current projection item.</p>
<p>The info panel mode is activated using the following key combination:</p>
<pre><code>[Mode][P3]
</code></pre>
<p>The keys then have the following meaning:</p>
<table><thead><tr><th>Key</th><th>Function</th></tr></thead><tbody>
<tr><td><code>[ON/OFF]</code></td><td></td></tr>
<tr><td><code>[Focus In]</code></td><td></td></tr>
<tr><td><code>[Focus Out]</code></td><td></td></tr>
<tr><td><code>[Arrow up]</code></td><td>Move up</td></tr>
<tr><td><code>[Arrow down]</code></td><td>Move down</td></tr>
<tr><td><code>[Arrow right]</code></td><td>Move right</td></tr>
<tr><td><code>[Arrow left]</code></td><td>Move left</td></tr>
<tr><td><code>[Turn right]</code></td><td>Rotate 40° clockwise</td></tr>
<tr><td><code>[Turn left]</code></td><td>Rotate 40° counterclockwise</td></tr>
<tr><td><code>[HOME]</code></td><td>Teset to the starting position</td></tr>
<tr><td><code>[SEARCH]</code></td><td>Show/hide info text field</td></tr>
<tr><td><code>[+]</code></td><td>Increase text size</td></tr>
<tr><td><code>[-]</code></td><td>Reduce text size</td></tr>
<tr><td><code>[2nd Func][HOME]</code></td><td></td></tr>
<tr><td><code>[2nd Func][SEARCH]</code></td><td></td></tr>
<tr><td><code>[2nd Func][+]</code></td><td>Double increment for shift</td></tr>
<tr><td><code>[2nd Func][-]</code></td><td>Halve the shift increment</td></tr>
<tr><td><code>[2nd Func][Arrow up]</code></td><td></td></tr>
<tr><td><code>[2nd Func][Arrow down]</code></td><td></td></tr>
<tr><td><code>[2nd Func][Arrow right]</code></td><td></td></tr>
<tr><td><code>[2nd Func][Arrow left]</code></td><td></td></tr>
<tr><td><code>[P1]</code></td><td>Assign to coordinate system 1</td></tr>
<tr><td><code>[P2]</code></td><td>Assign to coordinate system 2</td></tr>
<tr><td><code>[P3]</code></td><td>Assign to coordinate system 3</td></tr>
<tr><td><code>[P4]</code></td><td>Assign to coordinate system 4</td></tr>
<tr><td><code>[P5]</code></td><td>Assign to coordinate system 5</td></tr>
<tr><td><code>[P6]</code></td><td>Assign to coordinate system 6</td></tr>
<tr><td><code>[P7]</code></td><td>Assign to coordinate system 7</td></tr>
<tr><td><code>[P8]</code></td><td>Assign to coordinate system 8</td></tr>
<tr><td><code>[P9]</code></td><td>Assign to coordinate system 9</td></tr>
<tr><td><code>[P10]</code></td><td>Assign to coordinate system 10</td></tr>
<tr><td><code>[P11]</code></td><td>Assign to coordinate system 11</td></tr>
<tr><td><code>[P12]</code></td><td>Assign to coordinate system 12</td></tr>
<tr><td><code>[P13]</code></td><td>Assign to coordinate system 13</td></tr>
<tr><td><code>[P14]</code></td><td>Assign to coordinate system 14</td></tr>
<tr><td><code>[P15]</code></td><td>Assign to coordinate system 15</td></tr>
<tr><td><code>[P16]</code></td><td>Assign to coordinate system 16</td></tr>
<tr><td></td><td></td></tr>
</tbody></table>
<p>In order to create an info text field, you must first switch to the info field mode using <code>[Mode][P3]</code>. Pressing <code>[SEARCH]</code> now displays the info text box. Next, by pressing <code>[P1]</code>, ..., <code>[P16]</code>, the desired coordinate system is selected into which the info text field is to be projected. Finally, the size, orientation and position of the text field can be set using the arrow keys.</p>
<div id="admonition-information" class="admonition info">
<div class="admonition-title">
<p>Information</p>
<p><a class="admonition-anchor-link" href="remote-control-p3.html#admonition-information"></a></p>
</div>
<div>
<p>When setting up the placeholder, the projection element of the info field itself must be assigned its own name in the GeoTree. The full name of this element is <code>_/Info-ADR</code>. The following text is displayed during setup: <code>Info ADR @ SERIAL_CS</code>.</p>
<p>There are:</p>
<ul>
<li><code>ADR</code> the address of the remote control used,</li>
<li><code>SERIAL</code> the serial number of the projector,</li>
<li><code>CS</code> the name of the coordinate system.</li>
</ul>
</div>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="clipping-mode-p4"><a class="header" href="#clipping-mode-p4">Clipping mode (P4)</a></h1>
<p>In this mode, one or more selection rectangles can be defined, which can be used to crop the projection to a specific area. In this way you get a much more stable projection on the defined area.</p>
<p>Clipping mode is activated using the following key combination:</p>
<pre><code>[Mode][P4]
</code></pre>
<p>The keys then have the following meaning:</p>
<table><thead><tr><th>Key</th><th>Function</th></tr></thead><tbody>
<tr><td><code>[ON/OFF]</code></td><td>Turn on/off projection</td></tr>
<tr><td><code>[Focus In]</code></td><td>Create selection rectangle</td></tr>
<tr><td><code>[Focus Out]</code></td><td>Delete selection rectangle</td></tr>
<tr><td><code>[Arrow up]</code></td><td>Move up</td></tr>
<tr><td><code>[Arrow down]</code></td><td>Move down</td></tr>
<tr><td><code>[Arrow right]</code></td><td>Move right</td></tr>
<tr><td><code>[Arrow left]</code></td><td>Move left</td></tr>
<tr><td><code>[Turn right]</code></td><td></td></tr>
<tr><td><code>[Turn left]</code></td><td></td></tr>
<tr><td><code>[HOME]</code></td><td>Enable/disable clipping</td></tr>
<tr><td><code>[SEARCH]</code></td><td>Show/hide border</td></tr>
<tr><td><code>[+]</code></td><td>Toggle selection rectangle</td></tr>
<tr><td><code>[-]</code></td><td>Toggle selection rectangle</td></tr>
<tr><td><code>[2nd Func][HOME]</code></td><td></td></tr>
<tr><td><code>[2nd Func][SEARCH]</code></td><td>Show/hide name in info panel</td></tr>
<tr><td><code>[2nd Func][+]</code></td><td>Double step size</td></tr>
<tr><td><code>[2nd Func][-]</code></td><td>Halve step size</td></tr>
<tr><td><code>[2nd Func][Arrow up]</code></td><td>Increase height</td></tr>
<tr><td><code>[2nd Func][Arrow down]</code></td><td>Reduce height</td></tr>
<tr><td><code>[2nd Func][Arrow right]</code></td><td>Increase width</td></tr>
<tr><td><code>[2nd Func][Arrow left]</code></td><td>Reduce width</td></tr>
<tr><td><code>[P1]</code></td><td>Assign to coordinate system 1</td></tr>
<tr><td><code>[P2]</code></td><td>Assign to coordinate system 2</td></tr>
<tr><td><code>[P3]</code></td><td>Assign to coordinate system 3</td></tr>
<tr><td><code>[P4]</code></td><td>Assign to coordinate system 4</td></tr>
<tr><td><code>[P5]</code></td><td>Assign to coordinate system 5</td></tr>
<tr><td><code>[P6]</code></td><td>Assign to coordinate system 6</td></tr>
<tr><td><code>[P7]</code></td><td>Assign to coordinate system 7</td></tr>
<tr><td><code>[P8]</code></td><td>Assign to coordinate system 8</td></tr>
<tr><td><code>[P9]</code></td><td>Assign to coordinate system 9</td></tr>
<tr><td><code>[P10]</code></td><td>Assign to coordinate system 10</td></tr>
<tr><td><code>[P11]</code></td><td>Assign to coordinate system 11</td></tr>
<tr><td><code>[P12]</code></td><td>Assign to coordinate system 12</td></tr>
<tr><td><code>[P13]</code></td><td>Assign to coordinate system 13</td></tr>
<tr><td><code>[P14]</code></td><td>Assign to coordinate system 14</td></tr>
<tr><td><code>[P15]</code></td><td>Assign to coordinate system 15</td></tr>
<tr><td><code>[P16]</code></td><td>Assign to coordinate system 16</td></tr>
<tr><td></td><td></td></tr>
</tbody></table>
<p>To create a clipping area, it is helpful if a projection file is already loaded. First you have to switch to clipping mode with <code>[Mode][P4]</code>. With <code>[Focus In]</code> a selection rectangle is created and displayed at the origin. Next, the selection rectangle can be assigned to a coordinate system using the <code>[Px]</code> keys. Next, the rectangle is set to the correct position using the arrow keys and its size is set correctly using <code>[2nd Func]</code>+arrow keys.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="service-mode"><a class="header" href="#service-mode">Service mode</a></h1>
<p>The service mode is designed to tests the functionality of the laser source of a
projector and to support the mounting and initial alignment of the projector.</p>
<p>The service mode is a special mode because the signals of the remote control
are evaluated directly in the projector and not by the ZLP-Service. Hence the
mode does not require a network connection. The projector just needs to be
turned on.</p>
<p>In order to use the service mode, a remote control needs to be set to
<a href="remote-control.html#address-assignment">address &quot;00&quot;</a>. Then the keys trigger the
following actions:</p>
<table><thead><tr><th>Key</th><th>Function</th></tr></thead><tbody>
<tr><td><code>[ON/OFF]</code></td><td>Turn off projection</td></tr>
<tr><td><code>[2nd Func][Focus In]</code></td><td>Show maximum projection area</td></tr>
<tr><td><code>[+]</code><sup class="footnote-reference"><a href="#1">1</a></sup></td><td>Increase size of projection element</td></tr>
<tr><td><code>[-]</code><sup class="footnote-reference"><a href="#1">1</a></sup></td><td>Reduce size of projection element</td></tr>
<tr><td><code>[Arrow keys]</code><sup class="footnote-reference"><a href="#1">1</a></sup></td><td>Shift projection element</td></tr>
<tr><td><code>[HOME]</code></td><td>Reset size and position of projection element</td></tr>
<tr><td><code>[2nd Func][HOME]</code></td><td>Reset motion sensor</td></tr>
<tr><td><code>[P1]</code></td><td>Project cross (+)</td></tr>
<tr><td><code>[P2]</code></td><td>Project cross (x)</td></tr>
<tr><td><code>[P3]</code></td><td>Project square</td></tr>
</tbody></table>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>If the key is pressed continuously, the resulting effect increases.</p>
</div>
<div id="admonition-warning" class="admonition warning">
<div class="admonition-title">
<p>Warning</p>
<p><a class="admonition-anchor-link" href="remote-control-00.html#admonition-warning"></a></p>
</div>
<div>
<p>Remote controls with address &quot;00&quot; trigger an action in all projectors nearby
that have an active signal reception. If this is not desired, the projectors
need to be turned off or their
<a href="remote-control.html#signal-reception">signal reception</a> has to be deactivated.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plc-interface"><a class="header" href="#plc-interface">PLC Interface</a></h1>
<p>In an industrial setup a <em>Programmable Logic Controller</em> (PLC) is often used to
control a machine or facility. In order to integrate a ZLP laser projector in
such a machine, the projection system must accept commands from the PLC and send
status information.</p>
<p>For this use case the ZLP-Suite comprises the program <em>PLC-Gateway</em>. It manages
the communication between the PLC and the ZLP-Service. Additionally there is the
program <em>PLC-Simulator</em> which simulates a reals PLC for the gateway. It is
particularly well suited for setup and test purposes.</p>
<p>This chapter describes the system requirements, the system setup with
and without a control PC, the configuration of the PLC-Gateway and the available
functions with their parameters and possible error states.</p>
<h2 id="system-requirements"><a class="header" href="#system-requirements">System requirements</a></h2>
<h3 id="plc-models"><a class="header" href="#plc-models">PLC models</a></h3>
<p>Z-LASER offers function blocks to control the ZLP laser projection system for
the following PLC models:</p>
<ul>
<li>Siemens SIMATIC S7-300</li>
<li>Siemens SIMATIC S7-1500</li>
</ul>
<p>The function blocks are not included in the ZLP-Suite. They have to be requested
separately.</p>
<h3 id="software"><a class="header" href="#software">Software</a></h3>
<p>The ZLP-Suite comprises the following programs needed for a PLC application. For
operation these are:</p>
<ul>
<li><a href="service-overview.html"><em>ZLP-Service</em></a>: controls the laser projectors and
contains the projection data</li>
<li><em>PLC-Gateway</em>: manages communication between ZLP-Service and PLC</li>
</ul>
<div id="admonition-warning" class="admonition warning">
<div class="admonition-title">
<p>Warning</p>
<p><a class="admonition-anchor-link" href="plc.html#admonition-warning"></a></p>
</div>
<div>
<p>In order to use the program PLC-Gateway, a license file with the module <em>PLC</em> is
required.</p>
</div>
</div>
<p>For system setup, test and configuration purposes the following programs are
needed:</p>
<ul>
<li><a href="graphical-user-interface.html"><em>ZLP-Manager</em></a>: to configure the projection
system</li>
<li><em>PLC-Simulator</em>: for test purposes</li>
</ul>
<h3 id="laser-projector"><a class="header" href="#laser-projector">Laser projector</a></h3>
<p>All ZLP laser projectors can be used in a PLC application. Single-projector as
well as multi-projector applications are possible.</p>
<h2 id="setup"><a class="header" href="#setup">Setup</a></h2>
<p>Beside choosing the right PLC model, the projection system also has to be
designed in an appropriate manner. The laser projectors are controlled by the
program <em>ZLP-Service</em> and not by the PLC directly. The PLC uses its function
blocks to communicate with the program <em>PLC-Gateway</em> which then controls
<em>ZLP-Service</em>. The following sections describe where these two programs may run
during operation.</p>
<h3 id="control-pc"><a class="header" href="#control-pc">Control PC</a></h3>
<p>In the first case ZLP-Service and PLC-Gateway are run on a control PC. This
approach is possible with all ZLP laser projectors.</p>
<div align="center"><img src="img/plc-setup-1.png"></div>
<h3 id="zlp1-mit-pc-board"><a class="header" href="#zlp1-mit-pc-board">ZLP1 mit PC-Board</a></h3>
<p>In the second case a ZLP1 with PC board is used. By doing so ZLP-Service and
PLC-Gateway can run directly in the projector. No control PC is needed.</p>
<div align="center"><img src="img/plc-setup-2.png"></div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuration"><a class="header" href="#configuration">Configuration</a></h1>
<p>The entire system comprising of laser projectors, ZLP-Service, PLC-Gateway and
PLC has to be configured as described in the following sections.</p>
<h2 id="laser-projectors"><a class="header" href="#laser-projectors">Laser projectors</a></h2>
<p>All ZLP laser projectors need to be mounted, aligned and connected to the
machine network.</p>
<h2 id="zlp-service"><a class="header" href="#zlp-service">ZLP-Service</a></h2>
<p>The configuration of the laser projection system is done in the ZLP-Service. It
comprised the following steps:</p>
<ol>
<li>Link the laser projectors</li>
<li>Import a license file with module <em>PLC</em></li>
<li>Set up one or multiple coordinate systems</li>
<li>Import and prepare the projection data</li>
</ol>
<p>These settings can be made most easily with the ZLP-Manager. Finally the
configuration needs to be saved in a file.</p>
<h3 id="projection-data"><a class="header" href="#projection-data">Projection data</a></h3>
<p>The imported projection data needs to be assigned to an available coordinate
system. Additionally all projection elements which have to be projected at once
need to be placed in the same group on the top level. The group name must be
a signed 16 bit number without leading zeros (e.g. <code>0</code>, <code>1</code>, <code>10</code>, <code>11</code>, <code>1234</code>)
in order to be selectable by the PLC. These requirements can be fulfilled most
easily by using <a href="zio-gui.html">z-io-gui</a> or the
<a href="import-export.html#expert-dialog-zio-gui">expert dialog</a> of ZLP-Manager.</p>
<h2 id="plc-gateway"><a class="header" href="#plc-gateway">PLC-Gateway</a></h2>
<p>The PLC-Gateway is started with a configuration file (<code>plc-gateway-config.py</code>)
which contains all program settings.
Changes to this file require a restart of the PLC-Gateway.</p>
<p>The following sections explain the most important parameters. The configuration
file uses Python syntax.</p>
<pre><code class="language-python">plc_address = &quot;localhost&quot;
plc_port = 5555
</code></pre>
<p>The PLC needs to be reachable for the PLC-Gateway at the given address.</p>
<pre><code class="language-python">service_configs[0] = &quot;zlp-service_config_9090.info&quot;
service_configs[1] = &quot;workflow-a.info&quot;
service_configs[2] = &quot;workflow-b.info&quot;
</code></pre>
<p>List of <a href="plc-config.html#zlp-service">prepared configuration files</a> for the ZLP-Service. In
most cases there is only a single configuration. However, it is also possible to
save different workflows in different configuration files and let the PLC switch
between them. The configuration file at position <code>0</code> is automatically loaded on
start of the PLC-Gateway. This behavior can be changed by leaving this number
empty.</p>
<pre><code class="language-python">projector[0] = &quot;1234567890&quot;
</code></pre>
<p>List of serial numbers of all needed projectors.</p>
<pre><code class="language-python">coordinate_system[0] = &quot;form-xy&quot;
</code></pre>
<p>List of all defined coordinate systems.</p>
<pre><code class="language-python">point_search_require_all = True
</code></pre>
<p>If this parameter is set to <code>True</code>, all reference points need to be found when
updating the setup of a coordinate system. If less points are found, an error is
returned. If the parameter is set to <code>False</code>, only the minimum required number
of four reference points need to be found.</p>
<h2 id="plc-simulator"><a class="header" href="#plc-simulator">PLC-Simulator</a></h2>
<p>All previously taken settings can be tested with the program <em>PLC-Simulator</em>
without the need to have the actual PLC set up already. To do so, the gateway
parameter <code>plc_address</code> needs to be set to the computer where the simulator is
running and the button <em>START SIMULATOR</em> has to be pressed. The gateway then
connects to the simulator and afterwards to the ZLP-Service. If these steps are
successful the user can test all available <a href="plc-functions.html">commands</a>
and the final workflow already.</p>
<p><a href="img/plc-simulator.png"><img src="img/plc-simulator.png" alt="PLC-Simulator" /></a></p>
<h2 id="plc"><a class="header" href="#plc">PLC</a></h2>
<p>The function block has to be loaded by the PLC and integrated into the customer
application.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="function-definitions"><a class="header" href="#function-definitions">Function Definitions</a></h1>
<p>The PLC function block, the PLC-Gateway and the PLC-Simulator support the
following set of commands. It can be extended by customer-specific actions
if needed.</p>
<h2 id="command-4-start-point-search"><a class="header" href="#command-4-start-point-search">Command 4: start point search</a></h2>
<p>This command updates the transformation of the selected coordinate system and
searches the corresponding reference points.</p>
<p>Parameters:</p>
<ul>
<li>
<p><code>coordinate system</code></p>
<p>Number of coordinate system to update according to the gateway
configuration</p>
</li>
<li>
<p><code>maximum deviation tolerance</code></p>
<p>Maximum allowed projection error at a reference point after transformation
calculation in 1/10 mm (0 = deactivated)</p>
</li>
<li>
<p><code>projector</code></p>
<p>Number of projector to use according to the gateway configuration</p>
</li>
</ul>
<p>Error codes:</p>
<ul>
<li>
<p><code>0</code>: <code>UNKNOWN</code></p>
<p>Unknown error</p>
</li>
<li>
<p><code>1</code>: <code>OK</code></p>
<p>The operation could be carried out successfully.</p>
</li>
<li>
<p><code>2</code>: <code>UNKNOWN_RETURN_CODE</code></p>
<p>The operation terminated unsuccessfully with an unknown result.</p>
</li>
<li>
<p><code>41</code>: <code>PROJECTOR_NOT_CONFIGURED</code></p>
<p>The selected projector is not defined in the gateway configuration.</p>
</li>
<li>
<p><code>42</code>: <code>REGISTER_PROJECTOR_ERROR</code></p>
<p>The transformation of the coordinate system could not be calculated.</p>
</li>
<li>
<p><code>43</code>: <code>PROJECTOR_COORDINATE_SYSTEM_MISMATCH</code></p>
<p>The combination of projector and coordinate system is not known to
ZLP-Service.</p>
</li>
<li>
<p><code>44</code>: <code>POINT_SEARCH_ERROR</code></p>
<p>The point search was aborted with an error.</p>
</li>
<li>
<p><code>45</code>: <code>NOT_ALL_REFERENCE_POINTS_FOUND</code></p>
<p>Not all reference points were found although this is required according to
the gateway configuration.</p>
</li>
<li>
<p><code>46</code>: <code>NOT_ENOUGH_REFERENCE_POINTS</code></p>
<p>Not enough reference points could be found to calculate the transformation.</p>
</li>
<li>
<p><code>47</code>: <code>MAX_TOLERANCE_MISMATCH</code></p>
<p>The given maximum tolerance was exceeded when calculating the
transformation.</p>
</li>
<li>
<p><code>48</code>: <code>COORDINATE_SYSTEM_NOT_CONFIGURED</code></p>
<p>The given coordinate system is not defined in the gateway configuration.</p>
</li>
<li>
<p><code>49</code>: <code>COORDINATE_SYSTEM_DOES_NOT_EXIST</code></p>
<p>The given coordinate system is not known to ZLP-Service.</p>
</li>
</ul>
<h2 id="command-5-set-projection"><a class="header" href="#command-5-set-projection">Command 5: set projection</a></h2>
<p>This command starts the projection of all elements in the selected group.
All other elements are deactivated.</p>
<p>Parameters:</p>
<ul>
<li>
<p><code>projection</code></p>
<p>Number of group to project</p>
</li>
</ul>
<p>Error codes:</p>
<ul>
<li>
<p><code>0</code>: <code>UNKNOWN</code></p>
<p>Unknown error</p>
</li>
<li>
<p><code>1</code>: <code>OK</code></p>
<p>The operation could be carried out successfully.</p>
</li>
<li>
<p><code>2</code>: <code>UNKNOWN_RETURN_CODE</code></p>
<p>The operation terminated unsuccessfully with an unknown result.</p>
</li>
<li>
<p><code>51</code>: <code>NO_SUCH_ELEMENT</code></p>
<p>There is no group for the given number.</p>
</li>
</ul>
<h2 id="command-6-stop-projection"><a class="header" href="#command-6-stop-projection">Command 6: stop projection</a></h2>
<p>This command stops all active projections.</p>
<p>Parameters: none</p>
<p>Error codes:</p>
<ul>
<li>
<p><code>0</code>: <code>UNKNOWN</code></p>
<p>Unknown error</p>
</li>
<li>
<p><code>1</code>: <code>OK</code></p>
<p>The operation could be carried out successfully.</p>
</li>
<li>
<p><code>2</code>: <code>UNKNOWN_RETURN_CODE</code></p>
<p>The operation terminated unsuccessfully with an unknown result.</p>
</li>
</ul>
<h2 id="command-7-load-service-config"><a class="header" href="#command-7-load-service-config">Command 7: load service config</a></h2>
<p>This command loads the given configuration for ZLP-Service.</p>
<p>Parameters:</p>
<ul>
<li>
<p><code>service_config</code></p>
<p>Number of configuration to be loaded according to the gateway configuration</p>
</li>
</ul>
<p>Error codes:</p>
<ul>
<li>
<p><code>0</code>: <code>UNKNOWN</code></p>
<p>Unknown error</p>
</li>
<li>
<p><code>1</code>: <code>OK</code></p>
<p>The operation could be carried out successfully.</p>
</li>
<li>
<p><code>2</code>: <code>UNKNOWN_RETURN_CODE</code></p>
<p>The operation terminated unsuccessfully with an unknown result.</p>
</li>
<li>
<p><code>53</code>: <code>CANT_READ_FILE</code></p>
<p>The given file could not be read.</p>
</li>
<li>
<p><code>54</code>: <code>CONFIG_FILE_NOT_CONFIGURED</code></p>
<p>There is no file defined for the given number in the gateway configuration.</p>
</li>
</ul>
<h2 id="command-8-clear-service-config"><a class="header" href="#command-8-clear-service-config">Command 8: clear service config</a></h2>
<p>This command clears the current configuration of ZLP-Service.</p>
<p>Parameters: none</p>
<p>Error codes:</p>
<ul>
<li>
<p><code>0</code>: <code>UNKNOWN</code></p>
<p>Unknown error</p>
</li>
<li>
<p><code>1</code>: <code>OK</code></p>
<p>The operation could be carried out successfully.</p>
</li>
<li>
<p><code>2</code>: <code>UNKNOWN_RETURN_CODE</code></p>
<p>The operation terminated unsuccessfully with an unknown result.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="zlp1-with-pc-board"><a class="header" href="#zlp1-with-pc-board">ZLP1 with PC Board</a></h1>
<p>The ZLP1 laser projector can optionally be delivered with a PC board.
This variant has the advantage that ZLP-Service and other programs of the
ZLP-Suite e.g. PLC-Gateway can run directly in the projector. They do not have
to be installed on an extra control PC
(see <a href="plc.html#setup">Setup of PLC interface</a>).</p>
<h2 id="login"><a class="header" href="#login">Login</a></h2>
<p>The user can access the PC board through a SSH connection.
The default password may be changed with the command
<a href="https://man7.org/linux/man-pages/man1/passwd.1.html"><code>passwd</code></a>.</p>
<div id="admonition-login-data" class="admonition info">
<div class="admonition-title">
<p>Login data</p>
<p><a class="admonition-anchor-link" href="zlp1-pc-board.html#admonition-login-data"></a></p>
</div>
<div>
<ul>
<li>username: bob</li>
<li>passwort: zlaser</li>
</ul>
<pre><code class="language-bash">ssh bob@zlp1.local
</code></pre>
</div>
</div>
<p>The file system can be accessed by using
<a href="https://man7.org/linux/man-pages/man1/ssh.1.html"><code>ssh</code></a>,
<a href="https://man7.org/linux/man-pages/man1/scp.1.html"><code>scp</code></a> or a graphical
application (e.g. <a href="https://www.putty.org/">PuTTY</a>).</p>
<p>The default user has only limited user rights. The user can additionally
run the following commands:</p>
<pre><code class="language-bash">sudo reboot
sudo shutdown now
</code></pre>
<h2 id="directory-structure"><a class="header" href="#directory-structure">Directory structure</a></h2>
<p>The structure of the home directory of the default user looks as follows:</p>
<pre><code class="language-txt">~/log
|- zlp-service_2022-07-05_9090.log
|- plc-gateway.log

~/setup
|- activate_bridged_network.sh
|- activate_default_network.sh
|- disable-plc-gateway.sh
|- disable-zlp-service.sh
|- enable-plc-gateway.sh
|- enable-zlp-service.sh
|- interfaces -&gt; /etc/network/interfaces
|- interfaces.bridge
|- interfaces.default
|- logrotate.conf
|- plc-gateway-config.py
|- plc-gateway.service
|- restart-plc-gateway.sh
|- show-written-files.sh
|- zlp-service.service
</code></pre>
<p>The directory <code>log</code> contains status messages of the programs of the ZLP-Suite.
They can be useful to analyze a problem. Log files are deleted with every
restart of the projector or the PC board.</p>
<p>The directory <code>setup</code> contains settings files and utility scripts to configure
the system according to the user's needs.</p>
<h2 id="network-configuration"><a class="header" href="#network-configuration">Network configuration</a></h2>
<p>The active network configuration of the system is defined in the file
<code>interfaces</code>. Additionally there are two predefined network configurations
available: <em>standard</em> and <em>network bridge</em>.</p>
<h3 id="standard"><a class="header" href="#standard">Standard</a></h3>
<p>After delivery the standard network configuration is active. In this mode the
actual laser projector is not reachable from the outside but only from the PC
board at the address <code>192.168.10.10</code>. The PC board can be accessed at address
<code>192.168.10.11</code> or with the mDNS name <code>zlp1.local</code>. The user has to change the
file <code>interfaces</code> in order to set a static IP address for the PC board.</p>
<p>The standard network configuration is defined in the file <code>interfaces.default</code>
and can be restored using the script <code>activate_default_network.sh</code>.</p>
<h3 id="network-bridge"><a class="header" href="#network-bridge">Network bridge</a></h3>
<p>In this mode the laser projector is reachable at the IP address <code>192.168.10.10</code>
from the outside and can be used as a regular ZLP without PC board.</p>
<p>The network bridge configuration is defined in the file <code>interfaces.bridge</code> and
can be activated using the script <code>activate_bridged_network.sh</code>.</p>
<div id="admonition-warning" class="admonition warning">
<div class="admonition-title">
<p>Warning</p>
<p><a class="admonition-anchor-link" href="zlp1-pc-board.html#admonition-warning"></a></p>
</div>
<div>
<p>The PC board as well as ZLP-Service are still reachable in this mode. In order
to prevent problems caused by multiple running program instances, ZLP-Service
should be deactivated on the PC board and the system should be restarted.</p>
</div>
</div>
<h2 id="zlp-service-1"><a class="header" href="#zlp-service-1">ZLP-Service</a></h2>
<p>The program <em>ZLP-Service</em> can be executed by a service on system start.
This service is active by default und configured in the file
<code>zlp-service.service</code>. It can be activated and deactivated with the scripts
<code>enable-zlp-service.sh</code> and <code>disable-zlp-service.sh</code>.</p>
<h2 id="plc-gateway-1"><a class="header" href="#plc-gateway-1">PLC-Gateway</a></h2>
<p>The program <em>PLC-Gateway</em> can be executed by a service on system start.
This service is inactive by default and configured in the file
<code>plc-gateway.service</code>. It can be controlled with the scripts
<code>enable-plc-gateway.sh</code>,  <code>disable-plc-gateway.sh</code> and <code>restart-plc-gateway.sh</code>.
The last one is especially useful when changes are made to the
<a href="plc-config.html#plc-gateway">configuration of PLC-Gateway</a>
(<code>plc-gateway-config.py</code>).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="easy-gui"><a class="header" href="#easy-gui">Easy-GUI</a></h1>
<p>Easy-GUI allows the creation of a user interface.
Programs and Python scripts can be started at the push of a button. The structure of the interface and its functionality are defined by means of a configuration file.
Starting the application <code>.../bin/Easy-GUI</code> in the installation directory of the ZLP-Suite opens the following user interface:</p>
<div align="center">
<img src="img/easy-gui.png"/>
</div>
<p>The <strong>default configuration file</strong> <code>.../.z-laser/&lt;suite-version&gt;/easy-gui.toml</code>, found in the home directory of the current user, is evaluated if the
application call was made without a configuration file. You can also choose a different configuration.</p>
<div id="admonition-information" class="admonition note">
<div class="admonition-title">
<p>Information</p>
<p><a class="admonition-anchor-link" href="easy-gui.html#admonition-information"></a></p>
</div>
<div>
<ul>
<li>When creating your own configuration files, it is recommended to make a copy of the standard configuration file and use it as a template!</li>
<li>Using your own configuration file by command line, might look like this:<br />
<code>Easy-GUI my-easy-gui.toml</code></li>
<li>The logging is disabled by default (s. easy-gui.toml)</li>
</ul>
</div>
</div>
<h2 id="configuration-1"><a class="header" href="#configuration-1">Configuration</a></h2>
<p>The configurable <strong>parameters</strong> of the configuration file are assigned to three categories:</p>
<ul>
<li><strong>[Easy-GUI]</strong>: General Parameters</li>
<li><strong>[Output]</strong>: Parameters for the output</li>
<li><strong>[Button_1-N]</strong>: Parameters for the configuration of the individual buttons 1 to N</li>
</ul>
<p>The following table shows an overview of the parameters:</p>
<p><strong>[Easy-GUI]</strong></p>
<table><thead><tr><th>Parameters</th><th>Example value</th><th>Function</th></tr></thead><tbody>
<tr><td><code>logging</code></td><td>&quot;easy_gui.log&quot;</td><td>Specify the log file (appending)</td></tr>
<tr><td><code>rows</code></td><td>4</td><td>Number of rows for buttons</td></tr>
<tr><td><code>colums</code></td><td>3</td><td>Number of columns for buttons</td></tr>
<tr><td><code>fullscreen</code></td><td>false</td><td>Display maximized (true or false)</td></tr>
<tr><td><code>width</code></td><td>350</td><td>Width (if <code>fullscreen</code> = false)</td></tr>
<tr><td><code>height</code></td><td>450</td><td>Height (if ’<code>fullscreen</code> = false)</td></tr>
<tr><td><code>button_icon_width</code></td><td>32</td><td>Button icon width</td></tr>
<tr><td><code>button_icon_height</code></td><td>32</td><td>Button icon height</td></tr>
<tr><td><code>button_text_font</code></td><td>&quot;Arial&quot;</td><td>Font for all buttons</td></tr>
<tr><td><code>button_font_size</code></td><td>12</td><td>Font size for all buttons</td></tr>
<tr><td><code>button_padding_top</code></td><td>10</td><td>Top edge of all buttons</td></tr>
<tr><td><code>service_host</code></td><td>&quot;localhost&quot;</td><td>For license check</td></tr>
<tr><td><code>service_port</code></td><td>9090</td><td>For license check</td></tr>
</tbody></table>
<p><strong>[Output]</strong></p>
<table><thead><tr><th>Parameters</th><th>Example value</th><th>Function</th></tr></thead><tbody>
<tr><td><code>enable</code></td><td>true</td><td>Output field on/off (true or false)</td></tr>
<tr><td><code>command</code></td><td>[&quot;./python&quot;,&quot;../resources/scripts/time.py&quot;]</td><td>The return value of the Python script is displayed in the output field</td></tr>
<tr><td><code>trigger</code></td><td>&quot;time&quot;</td><td>Trigger for <code>command</code> (&quot;time&quot; or &quot;button&quot;)</td></tr>
<tr><td><code>interval</code></td><td>1000</td><td>Interval for repeated call of <code>command</code>, unit [ms] (if <code>trigger</code> = &quot;time&quot;)</td></tr>
<tr><td><code>font_size</code></td><td>24</td><td>Font size of the output</td></tr>
<tr><td><code>font     </code></td><td>&quot;Arial&quot;</td><td>Font of the output</td></tr>
<tr><td><code>height</code></td><td>24</td><td>Height of the output field</td></tr>
</tbody></table>
<p><strong>[Button_1-N]</strong></p>
<table><thead><tr><th>Parameters</th><th>Example value</th><th>Function</th></tr></thead><tbody>
<tr><td><code>command</code></td><td>[&quot;ZLP-Manager.exe&quot;]</td><td>Call ZLP-Manager when button is pressed</td></tr>
<tr><td><code>icon</code></td><td>&quot;../resources/icons/manager-icon.png&quot;</td><td>Icon of this Button</td></tr>
<tr><td><code>bg_color</code></td><td>&quot;#157DA4&quot;</td><td>Background color of this Button</td></tr>
<tr><td><code>text</code></td><td>&quot;ZLP-Manager&quot;</td><td>Button label</td></tr>
<tr><td><code>text_color</code></td><td>&quot;white&quot;</td><td>Button text color</td></tr>
<tr><td><code>tooltip</code></td><td>&quot;Start ZLP-Manager&quot;</td><td>Button tool-tip info</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="polling"><a class="header" href="#polling">Polling</a></h1>
<p>The word &quot;polling&quot; refers to the action of continuously watching for changes in a given state.</p>
<p>The application &quot;Polly&quot; can be used to watch for changes in one or multiple
directories. If a new file with projection elements is added to such a directory, Polly
automatically updates the running projection. It can be configured whether only the newest
file should be projected or all files within the watched directory. If a file is deleted
or modified, the projection will automatically be removed or updated, respectively. Beyond
that the configuration can be changed so that custom programs are automatically triggered.</p>
<h2 id="running-polly"><a class="header" href="#running-polly">Running Polly</a></h2>
<p>The application <code>polly</code> can be found in the &quot;bin&quot; directory of the ZLP-Suite
installation. It is a command line program that can generally be started by
double-clicking with the mouse. After having configured the application a console window
will open and Polly will display any upcoming errors.</p>
<div id="admonition-note" class="admonition note">
<div class="admonition-title">
<p>Note</p>
<p><a class="admonition-anchor-link" href="polling.html#admonition-note"></a></p>
</div>
<div>
<p>At least the target directory (<code>path</code>) needs to be configured for running the application.
All other settings should be checked and changed appropriately.</p>
</div>
</div>
<p>Additionally to the output in the console window, all messages can be looked-up in the log
file (see <a href="polling.html#configuration">Configuration</a> for more information).</p>
<p>The parameter <code>--help</code> will cause Polly to output its help text to the console:</p>
<pre><code class="language-text">polly 2.0.0 (6cf72436ff)

Check for changes in a set of directories and automatically trigger a projection.

            .---.
           /   6_6      Screw the cracker,
           \_  (__\       Polly wants a file!
           //   \\
          ((  Z  ))
      =====&quot;&quot;===&quot;&quot;=====
             |||
              |


USAGE:
    polly [OPTIONS] [CONFIG]

ARGS:
    &lt;CONFIG&gt;    Name of the configuration file to load instead of the default

OPTIONS:
        --dump-settings    Print an example configuration to stdout
    -h, --help             Print help information
        --save-settings    Write a clean copy of the default configuration to the standard
                           installation directory. The directories are created as necessary
    -v                     Set logging verbosity.
                           This flag may be repeated multiple times, each time increasing verbosity
                           level:
                             &lt;nothing&gt;        only show error messages
                             -v               show warnings and above
                             -vv              show informational messages and above
                             -vvv             show debug messages and above
                             -vvvv            show trace messages
    -V, --version          Print version information
</code></pre>
<p>Calling <code>polly --dump-settings</code> will cause the program to output its initial configuration
to the console. The command can also be used to create a new configuration file:
<code>polly --dump-settings &gt; polly-config.toml</code>.</p>
<p>For diagnostic purposes calling Polly with the verbose switch (<code>polly -vvv</code>) will yield
much more information on the current configuration and changes in the supervised
directories.</p>
<h2 id="configuration-2"><a class="header" href="#configuration-2">Configuration</a></h2>
<p>Before using Polly for the first time it should be executed with the option
<code>--save-settings</code>. This will create a new, empty configuration file.</p>
<p>The configuration of Polly happens through the configuration file
<code>.../.z-laser/&lt;suite-version&gt;/polly.toml</code> in the home directory of the current user. The
file format is in <a href="https://toml.io/en/">TOML</a> (Tom's Obvious Minimal Language). It is
grouped into a generic part and a block that must be repeated for all supervised
directories.</p>
<h3 id="general-settings"><a class="header" href="#general-settings">General Settings</a></h3>
<p>This is an excerpt of the global configuration settings. The file <code>polly.toml</code> contains
continuative descriptions as well as default values.</p>
<pre><code class="language-toml"># Hostname and port number of the Service instance to connect to.
service_addr = &quot;localhost:9090&quot;

# Output log file. (optional)
# log_file =

# Maximum filesystem event delay in seconds.
debounce_delay = 0.5

# Group name length.
group_name_length = 15
</code></pre>
<p>If no explicit path to the log file is configured, it will be automatically created in the
home directory of the executing user:</p>
<ul>
<li>Linux: <code>$HOME/.z-laser/&lt;suite-version&gt;/var/polly.log</code></li>
<li>Windows: <code>%USERPROFILE%/AppData/Local/Z-LASER/&lt;suite-version&gt;/polly.log</code></li>
</ul>
<p>The last two options are non self-explanatory:</p>
<p>If changes are made in a directory, i. e. a file is changed and saved, it can happen
that the operating system does not process these changes in &quot;one go&quot;, but executes them in
smaller parts. In this case Polly would receive multiple change events for one action by
the user (saving the file). Polly will try to update the laser projection each time it
receives a change event. Regarding these quick successive changes only the last event
would be interesting to Polly, because only then the file would be valid and complete so
that it can be loaded.<br/>
Polly solves this problem by introducing the <code>debounce_delay</code>. It is a grace period in
seconds that is waited for, before reacting to events. Multiple events concerning the same
file will be combined into one event only. This prevents the system from acting too early.</p>
<p>Polly can supervise multiple directories. All these directories can contain projection
files with the same name. By loading these files, their filename is transferred into the
Service and displayed in the Manager. Within the software this name must conform to the
Unicode encoding. Filenames, however, must not. Projections in the Service must also be
uniquely identifiable and correspond to a single file so that when the file is removed,
the correct projection can be removed as well.<br/>
Polly therefor unifies all path elements and generates a unique group name from letters
and numbers. The option <code>group_name_length</code> is a number between 0 and 64 and specifies the
length of this name. If the value chosen is too short, two files with the same name
might map to the same projection in the Service and could not be distinguished from each
other.</p>
<h3 id="directory-settings"><a class="header" href="#directory-settings">Directory Settings</a></h3>
<p>This is en excerpt of the settings that need to be configured for each supervised
directory. The file <code>polly.toml</code> contains continuative descriptions as well as default
values.</p>
<pre><code class="language-toml">[[target]]
# This is the directory (or file) that is being watched for changes.
path = 'NOT-YET-CONFIGURED'

# Narrow the contents of the directory to the list of files which match any of
# the file globs in this list.
filter = [&quot;*.las&quot;, &quot;*.hpgl&quot;, &quot;*.plt&quot;]

# `true` or `false` whether to recursively descend into all subdirectories.
recursive = true

# Either of:
# - &quot;DisplayNewest&quot;        show only the file with the most recent modification date
# - &quot;DisplayAll&quot;           show all files in the target folder
mode = &quot;DisplayAll&quot;

# If set, this is passed to Zio as parameter &quot;--config&quot;
zio_config = &quot;&quot;

# If set, this is passed to Zio as parameter &quot;--coordinate-system&quot;
zio_coordinate_system = &quot;SIM_SERIAL_NUMBER_FCW&quot;

# This value is passed to Zio as parameter &quot;--scale&quot;
zio_scale = 1.0

# List of X,Y and Z translation that is passed to Zio as parameter &quot;--shift&quot;
zio_shift = [0.0, 0.0, 0.0]

# Define the action that should be executed.
[[target.action]]
kind = &quot;UpdateGeoTree&quot;
</code></pre>
<p>For each supervised directory this block must be repeated with all options, including the
headline <code>[[target]]</code>.</p>
<p>Polly can work with all file formats that can be loaded through <a href="zio-overview.html">Zio</a>. The <code>filter</code> option
only specifies which files are to be considered by Polly.</p>
<p>The setting at the bottom is a list of actions that Polly should execute when a change in
a watched directory was detected. These actions are described in the following section.</p>
<h3 id="custom-actions"><a class="header" href="#custom-actions">Custom Actions</a></h3>
<p>The line <code>[[target.action]]</code> defines a list of actions that are executed in sequence if
changes to a directory or file are detected.</p>
<p>The default setting is:</p>
<pre><code class="language-toml">[[target.action]]
kind = &quot;UpdateGeoTree&quot;
</code></pre>
<p>This causes the system to load and project the changed file.</p>
<p>Alternatively the following setting defines a custom action:</p>
<pre><code class="language-toml">[[target.action]]
kind = &quot;UserCommand&quot;
action = ['my-program', 'param-1', 'param-2']
</code></pre>
<p>This causes the program &quot;my-program&quot; to be executed with the parameters &quot;param-1&quot; and
&quot;param-2&quot;.</p>
<p>The program will receive two additional parameters:</p>
<ul>
<li>the type of change</li>
<li>the filename in question</li>
</ul>
<p>The type of change is either <code>ModifyFile</code> or <code>RemoveFile</code>, depending on whether a file was
created, changed, written to or deleted.</p>
<p>By the time the custom program receives the keyword <code>RemoveFile</code>, it
must assume that the file in question has already been removed by the operating system.</p>
<p>Both actions from above can be combined once or multiple times in any order. The sequence
in which the actions are listed defines which action is executed first. Listing
<code>UpdateGeoTree</code> multiple times is possible, but usually does not make much sense.</p>
<h4 id="example-1"><a class="header" href="#example-1">Example 1</a></h4>
<p>In the following example the file <code>C:\polling-data\layer-1.hpgl</code> was changed.</p>
<pre><code class="language-toml">[[target.action]]
kind = &quot;UserCommand&quot;
action = ['C:\Skripte\my-program', &quot;param-1&quot;, &quot;param-2&quot;]
</code></pre>
<p>Polly will subsequently execute the following command:</p>
<pre><code class="language-bash">C:\Skripte\my-program 'param-1' 'param-2' 'ModifyFile' 'C:\polling-data\layer-1.hpgl'
</code></pre>
<h4 id="example-2"><a class="header" href="#example-2">Example 2</a></h4>
<p>In the following example the file <code>C:\polling-data\layer-1.hpgl</code> was changed.</p>
<pre><code class="language-toml">[[target.action]]
kind = &quot;UpdateGeoTree&quot;

[[target.action]]
kind = &quot;UserCommand&quot;
action = ['C:\Skripte\my-program', &quot;param-1&quot;, &quot;param-2&quot;]
</code></pre>
<p>The first action listed is <code>UpdateGeoTree</code>. Therefor the file <code>layer-1.hpgl</code> is loaded and
displayed by the laser projection system.
Afterwards the custom program is executed as in <a href="polling.html#example-1">example 1</a>.</p>
<h4 id="example-3"><a class="header" href="#example-3">Example 3</a></h4>
<p>In the following example the file <code>C:\polling-data\layer-1.hpgl</code> was removed.</p>
<pre><code class="language-toml">[[target.action]]
kind = &quot;UserCommand&quot;
action = ['C:\Skripte\pre-program']

[[target.action]]
kind = &quot;UpdateGeoTree&quot;

[[target.action]]
kind = &quot;UserCommand&quot;
action = ['C:\Skripte\post-program']
</code></pre>
<p>Initially the first custom action is executed as follows:</p>
<pre><code class="language-bash">C:\Skripte\pre-program 'RemoveFile' 'C:\polling-data\layer-1.hpgl'
</code></pre>
<p>The program has to assume that the file in question does not exist any more.
Afterwards the projection is updated and the contents of the file <code>layer-1.hpgl</code> is
removed. If there is no other data to be projected the projection will switch off.
Subsequently the last action is executed as follows:</p>
<pre><code class="language-bash">C:\Skripte\post-program 'RemoveFile' 'C:\polling-data\layer-1.hpgl'
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sonic"><a class="header" href="#sonic">Sonic</a></h1>
<p>Sonic is a simple command line tool for configuring ZLP1 and ZLP2 laser
projectors.</p>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<p>In addition to detailed program help, Sonic offers the following range of
functions:</p>
<ul>
<li>Read the projector's current network configuration</li>
<li>Change the network configuration of the projector
<ul>
<li>Static IP address</li>
<li>Network mask</li>
<li>Gateway</li>
</ul>
</li>
<li>Enable/disable DHCP on the projector</li>
<li>Readout of projector characteristics:
<ul>
<li>Serial number</li>
<li>Projector type</li>
<li>Firmware version and buildnumber</li>
</ul>
</li>
<li>Read and change the projector's hostname</li>
</ul>
<h2 id="location-of-installation"><a class="header" href="#location-of-installation">Location of installation</a></h2>
<p>Sonic can be found in the <code>bin</code> directory of the ZLP suite installation.</p>
<h2 id="usage-2"><a class="header" href="#usage-2">Usage</a></h2>
<p>Sonic runs directly in the console and is typically used as follows:</p>
<ol>
<li>Open console, e.g. Windows PowerShell</li>
<li>Change to the <code>bin</code> directory of the ZLP suite installation, e.g. with
<code>cd 'C:\Program Files\Z-LASER\ZLP-Suite 23.2\bin'</code></li>
<li>Run Sonic, e.g. <code>sonic 192.168.10.10 get-info</code></li>
</ol>
<div id="admonition-hint" class="admonition tip">
<div class="admonition-title">
<p>Hint</p>
<p><a class="admonition-anchor-link" href="sonic.html#admonition-hint"></a></p>
</div>
<div>
<p>The range of functions or the help for the version of sonic used can be
displayed with the option <code>-h</code> or <code>--help</code>, e.g. <code>./sonic --help</code></p>
</div>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->

        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>

    </body>
</html>
